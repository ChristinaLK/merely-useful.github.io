<!DOCTYPE html>
<html >

<head>

  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <title>Chapter 5 Syndicating Data | Merely Useful</title>
  <meta name="description" content="Chapter 5 Syndicating Data | Merely Useful">
  <meta name="generator" content="bookdown  and GitBook 2.6.7">

  <meta property="og:title" content="Chapter 5 Syndicating Data | Merely Useful" />
  <meta property="og:type" content="book" />
  
  
  <meta property="og:description" content="Chapter 5 Syndicating Data | Merely Useful" />
  <meta name="github-repo" content="merely-useful/merely-useful.github.io" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Chapter 5 Syndicating Data | Merely Useful" />
  
  <meta name="twitter:description" content="Chapter 5 Syndicating Data | Merely Useful" />
  

<meta name="author" content="A Long List of People">


<meta name="date" content="2019-04-30">

  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black">
  
  
<link rel="prev" href="s-automate.html">
<link rel="next" href="s-configure.html">
<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />









<style type="text/css">
a.sourceLine { display: inline-block; line-height: 1.25; }
a.sourceLine { pointer-events: none; color: inherit; text-decoration: inherit; }
a.sourceLine:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode { white-space: pre; position: relative; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
code.sourceCode { white-space: pre-wrap; }
a.sourceLine { text-indent: -1em; padding-left: 1em; }
}
pre.numberSource a.sourceLine
  { position: relative; left: -4em; }
pre.numberSource a.sourceLine::before
  { content: attr(title);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; pointer-events: all; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  { background-color: #f8f8f8; }
@media screen {
a.sourceLine::before { text-decoration: underline; }
}
code span.al { color: #ef2929; } /* Alert */
code span.an { color: #8f5902; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #c4a000; } /* Attribute */
code span.bn { color: #0000cf; } /* BaseN */
code span.cf { color: #204a87; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4e9a06; } /* Char */
code span.cn { color: #000000; } /* Constant */
code span.co { color: #8f5902; font-style: italic; } /* Comment */
code span.cv { color: #8f5902; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #8f5902; font-weight: bold; font-style: italic; } /* Documentation */
code span.dt { color: #204a87; } /* DataType */
code span.dv { color: #0000cf; } /* DecVal */
code span.er { color: #a40000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #0000cf; } /* Float */
code span.fu { color: #000000; } /* Function */
code span.im { } /* Import */
code span.in { color: #8f5902; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #204a87; font-weight: bold; } /* Keyword */
code span.op { color: #ce5c00; font-weight: bold; } /* Operator */
code span.ot { color: #8f5902; } /* Other */
code span.pp { color: #8f5902; font-style: italic; } /* Preprocessor */
code span.sc { color: #000000; } /* SpecialChar */
code span.ss { color: #4e9a06; } /* SpecialString */
code span.st { color: #4e9a06; } /* String */
code span.va { color: #000000; } /* Variable */
code span.vs { color: #4e9a06; } /* VerbatimString */
code span.wa { color: #8f5902; font-weight: bold; font-style: italic; } /* Warning */
</style>

</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li class="chapter" data-level="1" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i><b>1</b> Prolog</a><ul>
<li class="chapter" data-level="1.1" data-path="index.html"><a href="index.html#s:index-personas"><i class="fa fa-check"></i><b>1.1</b> Who are these lessons for?</a></li>
<li class="chapter" data-level="1.2" data-path="index.html"><a href="index.html#s:index-goals"><i class="fa fa-check"></i><b>1.2</b> What is the goal?</a></li>
<li class="chapter" data-level="1.3" data-path="index.html"><a href="index.html#s:index-summary"><i class="fa fa-check"></i><b>1.3</b> Summary</a></li>
</ul></li>
<li class="chapter" data-level="2" data-path="s-intro.html"><a href="s-intro.html"><i class="fa fa-check"></i><b>2</b> Introduction</a><ul>
<li class="chapter" data-level="2.1" data-path="s-intro.html"><a href="s-intro.html#objectives"><i class="fa fa-check"></i><b>2.1</b> Objectives</a></li>
<li class="chapter" data-level="2.2" data-path="s-intro.html"><a href="s-intro.html#s:intro-goals"><i class="fa fa-check"></i><b>2.2</b> What does “done” look like?</a></li>
<li class="chapter" data-level="2.3" data-path="s-intro.html"><a href="s-intro.html#s:intro-against"><i class="fa fa-check"></i><b>2.3</b> Why isn’t all of this normal already?</a></li>
<li class="chapter" data-level="2.4" data-path="s-intro.html"><a href="s-intro.html#s:intro-coverage"><i class="fa fa-check"></i><b>2.4</b> What will this book accomplish?</a></li>
<li class="chapter" data-level="2.5" data-path="s-intro.html"><a href="s-intro.html#s:intro-example"><i class="fa fa-check"></i><b>2.5</b> What will we use as running examples?</a></li>
<li class="chapter" data-level="2.6" data-path="s-intro.html"><a href="s-intro.html#s:intro-ack"><i class="fa fa-check"></i><b>2.6</b> Acknowledgments</a></li>
<li class="chapter" data-level="2.7" data-path="s-intro.html"><a href="s-intro.html#s:intro-contrib"><i class="fa fa-check"></i><b>2.7</b> Contributing</a></li>
<li class="chapter" data-level="2.8" data-path="s-intro.html"><a href="s-intro.html#key-points"><i class="fa fa-check"></i><b>2.8</b> Key Points</a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="s-shell.html"><a href="s-shell.html"><i class="fa fa-check"></i><b>3</b> The Unix Shell</a><ul>
<li class="chapter" data-level="3.1" data-path="s-shell.html"><a href="s-shell.html#objectives-1"><i class="fa fa-check"></i><b>3.1</b> Objectives</a></li>
<li class="chapter" data-level="3.2" data-path="s-shell.html"><a href="s-shell.html#s:shell-files"><i class="fa fa-check"></i><b>3.2</b> Working With Files</a></li>
<li class="chapter" data-level="3.3" data-path="s-shell.html"><a href="s-shell.html#s:shell-edit"><i class="fa fa-check"></i><b>3.3</b> Editing Text Files</a></li>
<li class="chapter" data-level="3.4" data-path="s-shell.html"><a href="s-shell.html#s:shell-text"><i class="fa fa-check"></i><b>3.4</b> Operating on Text</a></li>
<li class="chapter" data-level="3.5" data-path="s-shell.html"><a href="s-shell.html#s:shell-shortcut"><i class="fa fa-check"></i><b>3.5</b> Shortcuts</a></li>
<li class="chapter" data-level="3.6" data-path="s-shell.html"><a href="s-shell.html#s:shell-glob"><i class="fa fa-check"></i><b>3.6</b> Working with Multiple Files</a></li>
<li class="chapter" data-level="3.7" data-path="s-shell.html"><a href="s-shell.html#s:shell-path"><i class="fa fa-check"></i><b>3.7</b> Paths</a></li>
<li class="chapter" data-level="3.8" data-path="s-shell.html"><a href="s-shell.html#s:shell-pipe"><i class="fa fa-check"></i><b>3.8</b> Pipes</a></li>
<li class="chapter" data-level="3.9" data-path="s-shell.html"><a href="s-shell.html#s:shell-var"><i class="fa fa-check"></i><b>3.9</b> Variables</a></li>
<li class="chapter" data-level="3.10" data-path="s-shell.html"><a href="s-shell.html#s:shell-script"><i class="fa fa-check"></i><b>3.10</b> Writing Shell Scripts</a></li>
<li class="chapter" data-level="3.11" data-path="s-shell.html"><a href="s-shell.html#s:shell-loop"><i class="fa fa-check"></i><b>3.11</b> Repeating Things in the Shell</a></li>
<li class="chapter" data-level="3.12" data-path="s-shell.html"><a href="s-shell.html#key-points-1"><i class="fa fa-check"></i><b>3.12</b> Key Points</a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="s-automate.html"><a href="s-automate.html"><i class="fa fa-check"></i><b>4</b> Automating Analyses</a><ul>
<li class="chapter" data-level="4.1" data-path="s-automate.html"><a href="s-automate.html#objectives-2"><i class="fa fa-check"></i><b>4.1</b> Objectives</a></li>
<li class="chapter" data-level="4.2" data-path="s-automate.html"><a href="s-automate.html#s:automate-first"><i class="fa fa-check"></i><b>4.2</b> How can I update a file when its prerequisites change?</a></li>
<li class="chapter" data-level="4.3" data-path="s-automate.html"><a href="s-automate.html#s:automate-naming"><i class="fa fa-check"></i><b>4.3</b> How can I tell Make where to find rules?</a></li>
<li class="chapter" data-level="4.4" data-path="s-automate.html"><a href="s-automate.html#s:automate-extend"><i class="fa fa-check"></i><b>4.4</b> How can I update multiple files when their prerequisites change?</a></li>
<li class="chapter" data-level="4.5" data-path="s-automate.html"><a href="s-automate.html#s:automate-phony"><i class="fa fa-check"></i><b>4.5</b> How can I get rid of temporary files that I don’t need?</a></li>
<li class="chapter" data-level="4.6" data-path="s-automate.html"><a href="s-automate.html#s:automate-multi"><i class="fa fa-check"></i><b>4.6</b> How can I make a target depend on several prerequisites?</a></li>
<li class="chapter" data-level="4.7" data-path="s-automate.html"><a href="s-automate.html#s:automate-variables"><i class="fa fa-check"></i><b>4.7</b> How can I reduce the amount of typing I have to do?</a></li>
<li class="chapter" data-level="4.8" data-path="s-automate.html"><a href="s-automate.html#s:automate-chain"><i class="fa fa-check"></i><b>4.8</b> How can I make one update depend on another?</a></li>
<li class="chapter" data-level="4.9" data-path="s-automate.html"><a href="s-automate.html#s:automate-automatic"><i class="fa fa-check"></i><b>4.9</b> How can I abbreviate my update rules?</a></li>
<li class="chapter" data-level="4.10" data-path="s-automate.html"><a href="s-automate.html#s:automate-pattern"><i class="fa fa-check"></i><b>4.10</b> How can I write one general rule to update many files in the same way?</a></li>
<li class="chapter" data-level="4.11" data-path="s-automate.html"><a href="s-automate.html#s:automate-functions"><i class="fa fa-check"></i><b>4.11</b> How can I define sets of files automatically?</a></li>
<li class="chapter" data-level="4.12" data-path="s-automate.html"><a href="s-automate.html#s:automate-doc"><i class="fa fa-check"></i><b>4.12</b> How can I document my workflow?</a></li>
<li class="chapter" data-level="4.13" data-path="s-automate.html"><a href="s-automate.html#s:automate-summary"><i class="fa fa-check"></i><b>4.13</b> Summary</a></li>
<li class="chapter" data-level="4.14" data-path="s-automate.html"><a href="s-automate.html#s:automate-exercises"><i class="fa fa-check"></i><b>4.14</b> Exercises</a><ul>
<li class="chapter" data-level="4.14.1" data-path="s-automate.html"><a href="s-automate.html#create-a-summary-csv-file"><i class="fa fa-check"></i><b>4.14.1</b> Create a summary CSV file</a></li>
<li class="chapter" data-level="4.14.2" data-path="s-automate.html"><a href="s-automate.html#generate-a-plot-for-the-top-n-words"><i class="fa fa-check"></i><b>4.14.2</b> Generate a plot for the top N words</a></li>
</ul></li>
<li class="chapter" data-level="4.15" data-path="s-automate.html"><a href="s-automate.html#key-points-2"><i class="fa fa-check"></i><b>4.15</b> Key Points</a></li>
</ul></li>
<li class="chapter" data-level="5" data-path="s-syndicate.html"><a href="s-syndicate.html"><i class="fa fa-check"></i><b>5</b> Syndicating Data</a><ul>
<li class="chapter" data-level="5.1" data-path="s-syndicate.html"><a href="s-syndicate.html#objectives-3"><i class="fa fa-check"></i><b>5.1</b> Objectives</a></li>
<li class="chapter" data-level="5.2" data-path="s-syndicate.html"><a href="s-syndicate.html#s:syndicate-fetch"><i class="fa fa-check"></i><b>5.2</b> How can I fetch data data from a website?</a></li>
<li class="chapter" data-level="5.3" data-path="s-syndicate.html"><a href="s-syndicate.html#s:syndicate-csv"><i class="fa fa-check"></i><b>5.3</b> How can I handle tabular data?</a></li>
<li class="chapter" data-level="5.4" data-path="s-syndicate.html"><a href="s-syndicate.html#s:syndicate-generalize"><i class="fa fa-check"></i><b>5.4</b> How can I generalize data fetching and handle errors?</a></li>
<li class="chapter" data-level="5.5" data-path="s-syndicate.html"><a href="s-syndicate.html#s:syndicate-compare"><i class="fa fa-check"></i><b>5.5</b> How can I compare different data sets?</a></li>
<li class="chapter" data-level="5.6" data-path="s-syndicate.html"><a href="s-syndicate.html#s:syndicate-publish"><i class="fa fa-check"></i><b>5.6</b> How can I publish data so that others can use it?</a></li>
<li class="chapter" data-level="5.7" data-path="s-syndicate.html"><a href="s-syndicate.html#s:syndicate-findable"><i class="fa fa-check"></i><b>5.7</b> How can I make it easy for other people to find my data?</a></li>
<li class="chapter" data-level="5.8" data-path="s-syndicate.html"><a href="s-syndicate.html#s:syndicate-summary"><i class="fa fa-check"></i><b>5.8</b> Summary</a></li>
<li class="chapter" data-level="5.9" data-path="s-syndicate.html"><a href="s-syndicate.html#s:syndicate-exercises"><i class="fa fa-check"></i><b>5.9</b> Exercises</a><ul>
<li class="chapter" data-level="5.9.1" data-path="s-syndicate.html"><a href="s-syndicate.html#enumerating"><i class="fa fa-check"></i><b>5.9.1</b> Enumerating</a></li>
<li class="chapter" data-level="5.9.2" data-path="s-syndicate.html"><a href="s-syndicate.html#when-to-complain"><i class="fa fa-check"></i><b>5.9.2</b> When to complain?</a></li>
<li class="chapter" data-level="5.9.3" data-path="s-syndicate.html"><a href="s-syndicate.html#deciding-what-to-check"><i class="fa fa-check"></i><b>5.9.3</b> Deciding what to check</a></li>
<li class="chapter" data-level="5.9.4" data-path="s-syndicate.html"><a href="s-syndicate.html#metadata-for-metadata"><i class="fa fa-check"></i><b>5.9.4</b> Metadata for metadata</a></li>
<li class="chapter" data-level="5.9.5" data-path="s-syndicate.html"><a href="s-syndicate.html#to-automate-or-not"><i class="fa fa-check"></i><b>5.9.5</b> To automate or not</a></li>
<li class="chapter" data-level="5.9.6" data-path="s-syndicate.html"><a href="s-syndicate.html#removing-redundant-redundancy"><i class="fa fa-check"></i><b>5.9.6</b> Removing redundant redundancy</a></li>
</ul></li>
<li class="chapter" data-level="5.10" data-path="s-syndicate.html"><a href="s-syndicate.html#key-points-3"><i class="fa fa-check"></i><b>5.10</b> Key Points</a></li>
</ul></li>
<li class="chapter" data-level="6" data-path="s-configure.html"><a href="s-configure.html"><i class="fa fa-check"></i><b>6</b> Configuring Software</a><ul>
<li class="chapter" data-level="6.1" data-path="s-configure.html"><a href="s-configure.html#objectives-4"><i class="fa fa-check"></i><b>6.1</b> Objectives</a></li>
<li class="chapter" data-level="6.2" data-path="s-configure.html"><a href="s-configure.html#s:configure-cmdline"><i class="fa fa-check"></i><b>6.2</b> How can I handle command-line flags consistently?</a></li>
<li class="chapter" data-level="6.3" data-path="s-configure.html"><a href="s-configure.html#s:configure-long"><i class="fa fa-check"></i><b>6.3</b> What do I do when I run out of memorable single-letter flags?</a></li>
<li class="chapter" data-level="6.4" data-path="s-configure.html"><a href="s-configure.html#s:configure-files"><i class="fa fa-check"></i><b>6.4</b> How can I manage configuration files consistently?</a></li>
<li class="chapter" data-level="6.5" data-path="s-configure.html"><a href="s-configure.html#s:configure-overlay"><i class="fa fa-check"></i><b>6.5</b> How can I implement overlay configuration?</a></li>
<li class="chapter" data-level="6.6" data-path="s-configure.html"><a href="s-configure.html#s:configure-find"><i class="fa fa-check"></i><b>6.6</b> How can I find configuration files?</a></li>
<li class="chapter" data-level="6.7" data-path="s-configure.html"><a href="s-configure.html#s:configure-dump"><i class="fa fa-check"></i><b>6.7</b> How can I keep a record of the actual configuration that produced particular results?</a></li>
<li class="chapter" data-level="6.8" data-path="s-configure.html"><a href="s-configure.html#s:configure-summary"><i class="fa fa-check"></i><b>6.8</b> Summary</a></li>
<li class="chapter" data-level="6.9" data-path="s-configure.html"><a href="s-configure.html#s:configure-exercises"><i class="fa fa-check"></i><b>6.9</b> Exercises</a><ul>
<li class="chapter" data-level="6.9.1" data-path="s-configure.html"><a href="s-configure.html#dump-and-check-configuration"><i class="fa fa-check"></i><b>6.9.1</b> Dump and check configuration</a></li>
<li class="chapter" data-level="6.9.2" data-path="s-configure.html"><a href="s-configure.html#read-configuration-solely-from-file"><i class="fa fa-check"></i><b>6.9.2</b> Read configuration solely from file</a></li>
<li class="chapter" data-level="6.9.3" data-path="s-configure.html"><a href="s-configure.html#implement-a-usage-function"><i class="fa fa-check"></i><b>6.9.3</b> Implement a usage function</a></li>
<li class="chapter" data-level="6.9.4" data-path="s-configure.html"><a href="s-configure.html#read-standard-input-if-no-files-specified"><i class="fa fa-check"></i><b>6.9.4</b> Read standard input if no files specified</a></li>
</ul></li>
<li class="chapter" data-level="6.10" data-path="s-configure.html"><a href="s-configure.html#key-points-4"><i class="fa fa-check"></i><b>6.10</b> Key Points</a></li>
</ul></li>
<li class="chapter" data-level="7" data-path="s-logging.html"><a href="s-logging.html"><i class="fa fa-check"></i><b>7</b> Logging</a><ul>
<li class="chapter" data-level="7.1" data-path="s-logging.html"><a href="s-logging.html#objectives-5"><i class="fa fa-check"></i><b>7.1</b> Objectives</a></li>
<li class="chapter" data-level="7.2" data-path="s-logging.html"><a href="s-logging.html#s:logging-kinds"><i class="fa fa-check"></i><b>7.2</b> What kinds of errors should I try to handle and what should I do?</a></li>
<li class="chapter" data-level="7.3" data-path="s-logging.html"><a href="s-logging.html#s:logging-exceptions"><i class="fa fa-check"></i><b>7.3</b> How can I detect errors?</a></li>
<li class="chapter" data-level="7.4" data-path="s-logging.html"><a href="s-logging.html#s:logging-where"><i class="fa fa-check"></i><b>7.4</b> What exceptions should I raise and catch?</a></li>
<li class="chapter" data-level="7.5" data-path="s-logging.html"><a href="s-logging.html#s:logging-basic"><i class="fa fa-check"></i><b>7.5</b> How can my program report its activity consistently?</a></li>
<li class="chapter" data-level="7.6" data-path="s-logging.html"><a href="s-logging.html#s:logging-control"><i class="fa fa-check"></i><b>7.6</b> How can I control where log messages go and which log messages appear?</a></li>
<li class="chapter" data-level="7.7" data-path="s-logging.html"><a href="s-logging.html#s:logging-format"><i class="fa fa-check"></i><b>7.7</b> How can I change the format of my log messages?</a></li>
<li class="chapter" data-level="7.8" data-path="s-logging.html"><a href="s-logging.html#s:logging-source"><i class="fa fa-check"></i><b>7.8</b> How can I handle multiple reporting sources in one program?</a></li>
<li class="chapter" data-level="7.9" data-path="s-logging.html"><a href="s-logging.html#s:logging-config"><i class="fa fa-check"></i><b>7.9</b> How should I log my program’s configuration?</a></li>
<li class="chapter" data-level="7.10" data-path="s-logging.html"><a href="s-logging.html#s:logging-summary"><i class="fa fa-check"></i><b>7.10</b> Summary</a></li>
<li class="chapter" data-level="7.11" data-path="s-logging.html"><a href="s-logging.html#s:logging-exercises"><i class="fa fa-check"></i><b>7.11</b> Exercises</a><ul>
<li class="chapter" data-level="7.11.1" data-path="s-logging.html"><a href="s-logging.html#set-the-logging-level"><i class="fa fa-check"></i><b>7.11.1</b> Set the logging level</a></li>
<li class="chapter" data-level="7.11.2" data-path="s-logging.html"><a href="s-logging.html#display-logging-configuration"><i class="fa fa-check"></i><b>7.11.2</b> Display logging configuration</a></li>
<li class="chapter" data-level="7.11.3" data-path="s-logging.html"><a href="s-logging.html#log-to-standard-error-as-well-as-a-file"><i class="fa fa-check"></i><b>7.11.3</b> Log to standard error as well as a file</a></li>
<li class="chapter" data-level="7.11.4" data-path="s-logging.html"><a href="s-logging.html#write-configuration-as-json"><i class="fa fa-check"></i><b>7.11.4</b> Write configuration as JSON</a></li>
</ul></li>
<li class="chapter" data-level="7.12" data-path="s-logging.html"><a href="s-logging.html#key-points-5"><i class="fa fa-check"></i><b>7.12</b> Key Points</a></li>
</ul></li>
<li class="chapter" data-level="8" data-path="s-unit.html"><a href="s-unit.html"><i class="fa fa-check"></i><b>8</b> Unit Testing</a><ul>
<li class="chapter" data-level="8.1" data-path="s-unit.html"><a href="s-unit.html#objectives-6"><i class="fa fa-check"></i><b>8.1</b> Objectives</a></li>
<li class="chapter" data-level="8.2" data-path="s-unit.html"><a href="s-unit.html#s:unit-goals"><i class="fa fa-check"></i><b>8.2</b> What are realistic goals for testing?</a></li>
<li class="chapter" data-level="8.3" data-path="s-unit.html"><a href="s-unit.html#s:unit-systematic"><i class="fa fa-check"></i><b>8.3</b> What does a systematic software testing framework look like?</a></li>
<li class="chapter" data-level="8.4" data-path="s-unit.html"><a href="s-unit.html#s:unit-pytest"><i class="fa fa-check"></i><b>8.4</b> How can I manage tests systematically?</a></li>
<li class="chapter" data-level="8.5" data-path="s-unit.html"><a href="s-unit.html#s:unit-exception"><i class="fa fa-check"></i><b>8.5</b> How can I tell if my software failed as it was supposed to?</a></li>
<li class="chapter" data-level="8.6" data-path="s-unit.html"><a href="s-unit.html#s:unit-random"><i class="fa fa-check"></i><b>8.6</b> How can I test software that includes randomness?</a></li>
<li class="chapter" data-level="8.7" data-path="s-unit.html"><a href="s-unit.html#s:unit-io"><i class="fa fa-check"></i><b>8.7</b> How can I test software that does I/O?</a></li>
<li class="chapter" data-level="8.8" data-path="s-unit.html"><a href="s-unit.html#s:unit-coverage"><i class="fa fa-check"></i><b>8.8</b> How can I tell which parts of my software have (not) been tested?</a></li>
<li class="chapter" data-level="8.9" data-path="s-unit.html"><a href="s-unit.html#s:unit-summary"><i class="fa fa-check"></i><b>8.9</b> Summary</a></li>
<li class="chapter" data-level="8.10" data-path="s-unit.html"><a href="s-unit.html#s:unit-exercises"><i class="fa fa-check"></i><b>8.10</b> Exercises</a><ul>
<li class="chapter" data-level="8.10.1" data-path="s-unit.html"><a href="s-unit.html#handle-the-wrong-kind-of-exception"><i class="fa fa-check"></i><b>8.10.1</b> Handle the wrong kind of exception</a></li>
</ul></li>
<li class="chapter" data-level="8.11" data-path="s-unit.html"><a href="s-unit.html#key-points-6"><i class="fa fa-check"></i><b>8.11</b> Key Points</a></li>
</ul></li>
<li class="chapter" data-level="9" data-path="s-verify.html"><a href="s-verify.html"><i class="fa fa-check"></i><b>9</b> Verification</a><ul>
<li class="chapter" data-level="9.1" data-path="s-verify.html"><a href="s-verify.html#objectives-7"><i class="fa fa-check"></i><b>9.1</b> Objectives</a></li>
<li class="chapter" data-level="9.2" data-path="s-verify.html"><a href="s-verify.html#s:verify-diff"><i class="fa fa-check"></i><b>9.2</b> What is the difference between testing in software engineering and in data analysis?</a></li>
<li class="chapter" data-level="9.3" data-path="s-verify.html"><a href="s-verify.html#s:verify-float"><i class="fa fa-check"></i><b>9.3</b> Why should I be cautious when using floating-point numbers?</a></li>
<li class="chapter" data-level="9.4" data-path="s-verify.html"><a href="s-verify.html#s:verify-error"><i class="fa fa-check"></i><b>9.4</b> How can I express how close one number is to another?</a></li>
<li class="chapter" data-level="9.5" data-path="s-verify.html"><a href="s-verify.html#s:verify-numeric"><i class="fa fa-check"></i><b>9.5</b> How should I write tests that involved floating-point values?</a></li>
<li class="chapter" data-level="9.6" data-path="s-verify.html"><a href="s-verify.html#s:verify-plots"><i class="fa fa-check"></i><b>9.6</b> How can I test plots and other graphical results?</a></li>
<li class="chapter" data-level="9.7" data-path="s-verify.html"><a href="s-verify.html#s:verify-simple"><i class="fa fa-check"></i><b>9.7</b> How can I test the steps in a data analysis pipeline during development?</a></li>
<li class="chapter" data-level="9.8" data-path="s-verify.html"><a href="s-verify.html#s:verify-operational"><i class="fa fa-check"></i><b>9.8</b> How can I check the steps in a data analysis pipeline in production?</a></li>
<li class="chapter" data-level="9.9" data-path="s-verify.html"><a href="s-verify.html#s:verify-infer"><i class="fa fa-check"></i><b>9.9</b> How can I infer and check properties of my data?</a></li>
<li class="chapter" data-level="9.10" data-path="s-verify.html"><a href="s-verify.html#s:verify-summary"><i class="fa fa-check"></i><b>9.10</b> Summary</a></li>
<li class="chapter" data-level="9.11" data-path="s-verify.html"><a href="s-verify.html#s:verify-exercises"><i class="fa fa-check"></i><b>9.11</b> Exercises</a></li>
<li class="chapter" data-level="9.12" data-path="s-verify.html"><a href="s-verify.html#key-points-7"><i class="fa fa-check"></i><b>9.12</b> Key Points</a></li>
</ul></li>
<li class="chapter" data-level="10" data-path="s-branches.html"><a href="s-branches.html"><i class="fa fa-check"></i><b>10</b> A Branching Workflow</a><ul>
<li class="chapter" data-level="10.1" data-path="s-branches.html"><a href="s-branches.html#objectives-8"><i class="fa fa-check"></i><b>10.1</b> Objectives</a></li>
<li class="chapter" data-level="10.2" data-path="s-branches.html"><a href="s-branches.html#s:branches-branch"><i class="fa fa-check"></i><b>10.2</b> How can I use branches to manage development of new features?</a></li>
<li class="chapter" data-level="10.3" data-path="s-branches.html"><a href="s-branches.html#s:branches-switching"><i class="fa fa-check"></i><b>10.3</b> How can I switch between branches when work is only partly done?</a></li>
<li class="chapter" data-level="10.4" data-path="s-branches.html"><a href="s-branches.html#s:branches-rebase"><i class="fa fa-check"></i><b>10.4</b> How can I keep my project’s history clean when working on many branches?</a></li>
<li class="chapter" data-level="10.5" data-path="s-branches.html"><a href="s-branches.html#s:branches-pull-request"><i class="fa fa-check"></i><b>10.5</b> How can I make it easy for people to review my work before I merge it?</a></li>
<li class="chapter" data-level="10.6" data-path="s-branches.html"><a href="s-branches.html#s:branches-thinking"><i class="fa fa-check"></i><b>10.6</b> What <em>is</em> a feature?</a></li>
<li class="chapter" data-level="10.7" data-path="s-branches.html"><a href="s-branches.html#s:branches-tag"><i class="fa fa-check"></i><b>10.7</b> How can I label specific versions of my work?</a></li>
<li class="chapter" data-level="10.8" data-path="s-branches.html"><a href="s-branches.html#s:branches-summary"><i class="fa fa-check"></i><b>10.8</b> Summary</a></li>
<li class="chapter" data-level="10.9" data-path="s-branches.html"><a href="s-branches.html#s:branches-exercises"><i class="fa fa-check"></i><b>10.9</b> Exercises</a></li>
<li class="chapter" data-level="10.10" data-path="s-branches.html"><a href="s-branches.html#key-points-8"><i class="fa fa-check"></i><b>10.10</b> Key Points</a></li>
</ul></li>
<li class="chapter" data-level="11" data-path="s-backlog.html"><a href="s-backlog.html"><i class="fa fa-check"></i><b>11</b> Managing Backlog</a><ul>
<li class="chapter" data-level="11.1" data-path="s-backlog.html"><a href="s-backlog.html#objectives-9"><i class="fa fa-check"></i><b>11.1</b> Objectives</a></li>
<li class="chapter" data-level="11.2" data-path="s-backlog.html"><a href="s-backlog.html#s:backlog-issues"><i class="fa fa-check"></i><b>11.2</b> How can I manage the work I still have to do?</a></li>
<li class="chapter" data-level="11.3" data-path="s-backlog.html"><a href="s-backlog.html#s:backlog-bugs"><i class="fa fa-check"></i><b>11.3</b> How can I write a good bug report?</a></li>
<li class="chapter" data-level="11.4" data-path="s-backlog.html"><a href="s-backlog.html#s:backlog-label"><i class="fa fa-check"></i><b>11.4</b> How can I use labels to organize work?</a></li>
<li class="chapter" data-level="11.5" data-path="s-backlog.html"><a href="s-backlog.html#s:backlog-triage"><i class="fa fa-check"></i><b>11.5</b> How can I use labels to prioritize work?</a></li>
<li class="chapter" data-level="11.6" data-path="s-backlog.html"><a href="s-backlog.html#s:backlog-workflow"><i class="fa fa-check"></i><b>11.6</b> How can I use issues to enforce a workflow for a project?</a></li>
<li class="chapter" data-level="11.7" data-path="s-backlog.html"><a href="s-backlog.html#s:backlog-summary"><i class="fa fa-check"></i><b>11.7</b> Summary</a></li>
<li class="chapter" data-level="11.8" data-path="s-backlog.html"><a href="s-backlog.html#s:backlog-exercises"><i class="fa fa-check"></i><b>11.8</b> Exercises</a></li>
<li class="chapter" data-level="11.9" data-path="s-backlog.html"><a href="s-backlog.html#key-points-9"><i class="fa fa-check"></i><b>11.9</b> Key Points</a></li>
</ul></li>
<li class="chapter" data-level="12" data-path="s-style.html"><a href="s-style.html"><i class="fa fa-check"></i><b>12</b> Code Style and Review</a><ul>
<li class="chapter" data-level="12.1" data-path="s-style.html"><a href="s-style.html#objectives-10"><i class="fa fa-check"></i><b>12.1</b> Objectives</a></li>
<li class="chapter" data-level="12.2" data-path="s-style.html"><a href="s-style.html#s:style-pep8"><i class="fa fa-check"></i><b>12.2</b> What are the standard rules of good style for Python programs?</a><ul>
<li class="chapter" data-level="12.2.1" data-path="s-style.html"><a href="s-style.html#always-indent-code-blocks-using-4-spaces-and-use-spaces-instead-of-tabs."><i class="fa fa-check"></i><b>12.2.1</b> Always indent code blocks using 4 spaces, and use spaces instead of tabs.</a></li>
<li class="chapter" data-level="12.2.2" data-path="s-style.html"><a href="s-style.html#do-not-put-spaces-inside-parentheses"><i class="fa fa-check"></i><b>12.2.2</b> Do not put spaces inside parentheses</a></li>
<li class="chapter" data-level="12.2.3" data-path="s-style.html"><a href="s-style.html#always-use-spaces-around-comparisons-like-and-."><i class="fa fa-check"></i><b>12.2.3</b> Always use spaces around comparisons like <code>&gt;</code> and <code>&lt;=</code>.</a></li>
<li class="chapter" data-level="12.2.4" data-path="s-style.html"><a href="s-style.html#use-all_caps_with_underscores-for-constants."><i class="fa fa-check"></i><b>12.2.4</b> Use <code>ALL_CAPS_WITH_UNDERSCORES</code> for constants.</a></li>
<li class="chapter" data-level="12.2.5" data-path="s-style.html"><a href="s-style.html#use-lower_case_with_underscores-for-the-names-of-functions-and-variables."><i class="fa fa-check"></i><b>12.2.5</b> Use <code>lower_case_with_underscores</code> for the names of functions and variables.</a></li>
<li class="chapter" data-level="12.2.6" data-path="s-style.html"><a href="s-style.html#put-two-blank-links-between-each-function-definition."><i class="fa fa-check"></i><b>12.2.6</b> Put two blank links between each function definition.</a></li>
<li class="chapter" data-level="12.2.7" data-path="s-style.html"><a href="s-style.html#avoid-abbreviations-in-function-and-variable-names."><i class="fa fa-check"></i><b>12.2.7</b> Avoid abbreviations in function and variable names.</a></li>
<li class="chapter" data-level="12.2.8" data-path="s-style.html"><a href="s-style.html#use-short-names-for-short-lived-local-variables-but-longer-names-for-things-with-wider-scope."><i class="fa fa-check"></i><b>12.2.8</b> Use short names for short-lived local variables but longer names for things with wider scope.</a></li>
<li class="chapter" data-level="12.2.9" data-path="s-style.html"><a href="s-style.html#put-everything-in-a-file-in-order."><i class="fa fa-check"></i><b>12.2.9</b> Put everything in a file in order.</a></li>
<li class="chapter" data-level="12.2.10" data-path="s-style.html"><a href="s-style.html#do-not-comment-and-uncomment-sections-of-code-to-change-behavior."><i class="fa fa-check"></i><b>12.2.10</b> Do not comment and uncomment sections of code to change behavior.</a></li>
<li class="chapter" data-level="12.2.11" data-path="s-style.html"><a href="s-style.html#keep-functions-short."><i class="fa fa-check"></i><b>12.2.11</b> Keep functions short.</a></li>
<li class="chapter" data-level="12.2.12" data-path="s-style.html"><a href="s-style.html#handle-special-cases-at-the-start-of-the-function."><i class="fa fa-check"></i><b>12.2.12</b> Handle special cases at the start of the function.</a></li>
</ul></li>
<li class="chapter" data-level="12.3" data-path="s-style.html"><a href="s-style.html#s:style-check"><i class="fa fa-check"></i><b>12.3</b> How can I check that code follows style guidelines?</a></li>
<li class="chapter" data-level="12.4" data-path="s-style.html"><a href="s-style.html#s:style-github"><i class="fa fa-check"></i><b>12.4</b> How should I review someone else’s code:</a></li>
<li class="chapter" data-level="12.5" data-path="s-style.html"><a href="s-style.html#s:style-how"><i class="fa fa-check"></i><b>12.5</b> How should I collaborate with people when doing code reviews?</a></li>
<li class="chapter" data-level="12.6" data-path="s-style.html"><a href="s-style.html#s:style-order"><i class="fa fa-check"></i><b>12.6</b> In what order should functions be defined?</a></li>
<li class="chapter" data-level="12.7" data-path="s-style.html"><a href="s-style.html#s:style-defaults"><i class="fa fa-check"></i><b>12.7</b> How can I specify default values for functions’ parameters?</a></li>
<li class="chapter" data-level="12.8" data-path="s-style.html"><a href="s-style.html#s:style-varargs"><i class="fa fa-check"></i><b>12.8</b> How can I write functions to handle a variable number of arguments?</a></li>
<li class="chapter" data-level="12.9" data-path="s-style.html"><a href="s-style.html#s:style-starargs"><i class="fa fa-check"></i><b>12.9</b> How can I pass an unknown number of parameters?</a></li>
<li class="chapter" data-level="12.10" data-path="s-style.html"><a href="s-style.html#s:style-destructure"><i class="fa fa-check"></i><b>12.10</b> How can I get values out of structured data more easily?</a></li>
<li class="chapter" data-level="12.11" data-path="s-style.html"><a href="s-style.html#s:style-summary"><i class="fa fa-check"></i><b>12.11</b> Summary</a></li>
<li class="chapter" data-level="12.12" data-path="s-style.html"><a href="s-style.html#s:style-exercises"><i class="fa fa-check"></i><b>12.12</b> Exercises</a></li>
<li class="chapter" data-level="12.13" data-path="s-style.html"><a href="s-style.html#key-points-10"><i class="fa fa-check"></i><b>12.13</b> Key Points</a></li>
</ul></li>
<li class="chapter" data-level="13" data-path="s-process.html"><a href="s-process.html"><i class="fa fa-check"></i><b>13</b> Development Process</a><ul>
<li class="chapter" data-level="13.1" data-path="s-process.html"><a href="s-process.html#objectives-11"><i class="fa fa-check"></i><b>13.1</b> Objectives</a></li>
<li class="chapter" data-level="13.2" data-path="s-process.html"><a href="s-process.html#s:process-agile"><i class="fa fa-check"></i><b>13.2</b> What is agile development?</a></li>
<li class="chapter" data-level="13.3" data-path="s-process.html"><a href="s-process.html#s:process-feedback"><i class="fa fa-check"></i><b>13.3</b> What are the feedback loops in agile development?</a></li>
<li class="chapter" data-level="13.4" data-path="s-process.html"><a href="s-process.html#s:process-agile-risks"><i class="fa fa-check"></i><b>13.4</b> What are the risks associated with agile development?</a></li>
<li class="chapter" data-level="13.5" data-path="s-process.html"><a href="s-process.html#s:process-sturdy"><i class="fa fa-check"></i><b>13.5</b> What is sturdy development?</a></li>
<li class="chapter" data-level="13.6" data-path="s-process.html"><a href="s-process.html#s:process-product"><i class="fa fa-check"></i><b>13.6</b> What is the role of a product manager?</a></li>
<li class="chapter" data-level="13.7" data-path="s-process.html"><a href="s-process.html#s:process-project"><i class="fa fa-check"></i><b>13.7</b> What is the role of a project manager?</a></li>
<li class="chapter" data-level="13.8" data-path="s-process.html"><a href="s-process.html#s:process-sturdy-risks"><i class="fa fa-check"></i><b>13.8</b> What are the risks associated with sturdy development?</a></li>
<li class="chapter" data-level="13.9" data-path="s-process.html"><a href="s-process.html#s:process-corners"><i class="fa fa-check"></i><b>13.9</b> Why, when, and how should our team start to cut corners?</a></li>
<li class="chapter" data-level="13.10" data-path="s-process.html"><a href="s-process.html#s:process-summary"><i class="fa fa-check"></i><b>13.10</b> Summary</a></li>
<li class="chapter" data-level="13.11" data-path="s-process.html"><a href="s-process.html#key-points-11"><i class="fa fa-check"></i><b>13.11</b> Key Points</a></li>
</ul></li>
<li class="chapter" data-level="14" data-path="s-integrate.html"><a href="s-integrate.html"><i class="fa fa-check"></i><b>14</b> Continuous Integration</a><ul>
<li class="chapter" data-level="14.1" data-path="s-integrate.html"><a href="s-integrate.html#objectives-12"><i class="fa fa-check"></i><b>14.1</b> Objectives</a></li>
<li class="chapter" data-level="14.2" data-path="s-integrate.html"><a href="s-integrate.html#s:integrate-basic"><i class="fa fa-check"></i><b>14.2</b> How can I run commands automatically every time a repository is updated?</a></li>
<li class="chapter" data-level="14.3" data-path="s-integrate.html"><a href="s-integrate.html#s:integrate-error"><i class="fa fa-check"></i><b>14.3</b> How can I tell Travis that something went wrong?</a></li>
<li class="chapter" data-level="14.4" data-path="s-integrate.html"><a href="s-integrate.html#s:integrate-display"><i class="fa fa-check"></i><b>14.4</b> How can I display the status of a repository?</a></li>
<li class="chapter" data-level="14.5" data-path="s-integrate.html"><a href="s-integrate.html#s:integrate-tests"><i class="fa fa-check"></i><b>14.5</b> How can I automatically run tests for my project when things change?</a></li>
<li class="chapter" data-level="14.6" data-path="s-integrate.html"><a href="s-integrate.html#s:integrate-summary"><i class="fa fa-check"></i><b>14.6</b> Summary</a></li>
<li class="chapter" data-level="14.7" data-path="s-integrate.html"><a href="s-integrate.html#s:integrate-exercises"><i class="fa fa-check"></i><b>14.7</b> Exercises</a></li>
<li class="chapter" data-level="14.8" data-path="s-integrate.html"><a href="s-integrate.html#key-points-12"><i class="fa fa-check"></i><b>14.8</b> Key Points</a></li>
</ul></li>
<li class="chapter" data-level="15" data-path="s-remote.html"><a href="s-remote.html"><i class="fa fa-check"></i><b>15</b> Working Remotely</a><ul>
<li class="chapter" data-level="15.1" data-path="s-remote.html"><a href="s-remote.html#objectives-13"><i class="fa fa-check"></i><b>15.1</b> Objectives</a></li>
<li class="chapter" data-level="15.2" data-path="s-remote.html"><a href="s-remote.html#s:remote-implement"><i class="fa fa-check"></i><b>15.2</b> How are connections to remote computers implemented?</a></li>
<li class="chapter" data-level="15.3" data-path="s-remote.html"><a href="s-remote.html#s:remote-ssh"><i class="fa fa-check"></i><b>15.3</b> How can I run commands on a remote computer?</a></li>
<li class="chapter" data-level="15.4" data-path="s-remote.html"><a href="s-remote.html#s:remote-command"><i class="fa fa-check"></i><b>15.4</b> How can I execute commands on a remote computer without logging in?</a></li>
<li class="chapter" data-level="15.5" data-path="s-remote.html"><a href="s-remote.html#s:remote-scp"><i class="fa fa-check"></i><b>15.5</b> How can I copy files to and from remote computers?</a></li>
<li class="chapter" data-level="15.6" data-path="s-remote.html"><a href="s-remote.html#s:remote-keys"><i class="fa fa-check"></i><b>15.6</b> How can I avoid typing my password over and over again?</a></li>
<li class="chapter" data-level="15.7" data-path="s-remote.html"><a href="s-remote.html#s:remote-summary"><i class="fa fa-check"></i><b>15.7</b> Summary</a></li>
<li class="chapter" data-level="15.8" data-path="s-remote.html"><a href="s-remote.html#s:remote-exercises"><i class="fa fa-check"></i><b>15.8</b> Exercises</a></li>
<li class="chapter" data-level="15.9" data-path="s-remote.html"><a href="s-remote.html#key-points-13"><i class="fa fa-check"></i><b>15.9</b> Key Points</a></li>
</ul></li>
<li class="chapter" data-level="16" data-path="s-tools.html"><a href="s-tools.html"><i class="fa fa-check"></i><b>16</b> Other Tools</a><ul>
<li class="chapter" data-level="16.1" data-path="s-tools.html"><a href="s-tools.html#objectives-14"><i class="fa fa-check"></i><b>16.1</b> Objectives</a></li>
<li class="chapter" data-level="16.2" data-path="s-tools.html"><a href="s-tools.html#s:tools-editor"><i class="fa fa-check"></i><b>16.2</b> What should I look for in an editor?</a></li>
<li class="chapter" data-level="16.3" data-path="s-tools.html"><a href="s-tools.html#s:tools-debugger"><i class="fa fa-check"></i><b>16.3</b> What are symbolic debuggers and how can they help me?</a></li>
<li class="chapter" data-level="16.4" data-path="s-tools.html"><a href="s-tools.html#s:tools-profiler"><i class="fa fa-check"></i><b>16.4</b> How can I tell why my program is running slowly?</a></li>
<li class="chapter" data-level="16.5" data-path="s-tools.html"><a href="s-tools.html#s:tools-ide"><i class="fa fa-check"></i><b>16.5</b> How can I get all of these tools in one go?</a></li>
<li class="chapter" data-level="16.6" data-path="s-tools.html"><a href="s-tools.html#s:tools-cron"><i class="fa fa-check"></i><b>16.6</b> How can I run tasks at regular times?</a></li>
<li class="chapter" data-level="16.7" data-path="s-tools.html"><a href="s-tools.html#s:tools-summary"><i class="fa fa-check"></i><b>16.7</b> Summary</a></li>
<li class="chapter" data-level="16.8" data-path="s-tools.html"><a href="s-tools.html#s:tools-exercises"><i class="fa fa-check"></i><b>16.8</b> Exercises</a></li>
<li class="chapter" data-level="16.9" data-path="s-tools.html"><a href="s-tools.html#key-points-14"><i class="fa fa-check"></i><b>16.9</b> Key Points</a></li>
</ul></li>
<li class="chapter" data-level="17" data-path="s-docs.html"><a href="s-docs.html"><i class="fa fa-check"></i><b>17</b> Documentation</a><ul>
<li class="chapter" data-level="17.1" data-path="s-docs.html"><a href="s-docs.html#objectives-15"><i class="fa fa-check"></i><b>17.1</b> Objectives</a></li>
<li class="chapter" data-level="17.2" data-path="s-docs.html"><a href="s-docs.html#s:docs-error-messages"><i class="fa fa-check"></i><b>17.2</b> How can I write useful error messages?</a></li>
<li class="chapter" data-level="17.3" data-path="s-docs.html"><a href="s-docs.html#s:docs-what"><i class="fa fa-check"></i><b>17.3</b> What should I document for whom?</a></li>
<li class="chapter" data-level="17.4" data-path="s-docs.html"><a href="s-docs.html#s:docs-docstrings"><i class="fa fa-check"></i><b>17.4</b> How should I write documentation for code?</a></li>
<li class="chapter" data-level="17.5" data-path="s-docs.html"><a href="s-docs.html#s:docs-infer"><i class="fa fa-check"></i><b>17.5</b> What should I document?</a></li>
<li class="chapter" data-level="17.6" data-path="s-docs.html"><a href="s-docs.html#s:docs-faq"><i class="fa fa-check"></i><b>17.6</b> How can I create a useful FAQ?</a></li>
<li class="chapter" data-level="17.7" data-path="s-docs.html"><a href="s-docs.html#s:docs-summary"><i class="fa fa-check"></i><b>17.7</b> Summary</a></li>
<li class="chapter" data-level="17.8" data-path="s-docs.html"><a href="s-docs.html#s:docs-exercises"><i class="fa fa-check"></i><b>17.8</b> Exercises</a></li>
<li class="chapter" data-level="17.9" data-path="s-docs.html"><a href="s-docs.html#key-points-15"><i class="fa fa-check"></i><b>17.9</b> Key Points</a></li>
</ul></li>
<li class="chapter" data-level="18" data-path="s-refactor.html"><a href="s-refactor.html"><i class="fa fa-check"></i><b>18</b> Refactoring</a><ul>
<li class="chapter" data-level="18.1" data-path="s-refactor.html"><a href="s-refactor.html#objectives-16"><i class="fa fa-check"></i><b>18.1</b> Objectives</a></li>
<li class="chapter" data-level="18.2" data-path="s-refactor.html"><a href="s-refactor.html#s:refactor-replace-value-with-name"><i class="fa fa-check"></i><b>18.2</b> How can I avoid repeating values in code?</a></li>
<li class="chapter" data-level="18.3" data-path="s-refactor.html"><a href="s-refactor.html#s:refactor-hoist-repeated"><i class="fa fa-check"></i><b>18.3</b> How can I avoid repeating calculations in code?</a></li>
<li class="chapter" data-level="18.4" data-path="s-refactor.html"><a href="s-refactor.html#s:refactor-repeated-test"><i class="fa fa-check"></i><b>18.4</b> How can I make repeated conditional tests clearer?</a></li>
<li class="chapter" data-level="18.5" data-path="s-refactor.html"><a href="s-refactor.html#s:refactor-in-place"><i class="fa fa-check"></i><b>18.5</b> How can I avoid duplicating expressions in assignment statements?</a></li>
<li class="chapter" data-level="18.6" data-path="s-refactor.html"><a href="s-refactor.html#s:refactor-short-circuits"><i class="fa fa-check"></i><b>18.6</b> How can I make special cases easier to spot?</a></li>
<li class="chapter" data-level="18.7" data-path="s-refactor.html"><a href="s-refactor.html#s:refactor-extract-function"><i class="fa fa-check"></i><b>18.7</b> How can I divide code into more comprehensible chunks?</a></li>
<li class="chapter" data-level="18.8" data-path="s-refactor.html"><a href="s-refactor.html#s:refactor-combine-functions"><i class="fa fa-check"></i><b>18.8</b> When and how should I combine code into a single function?</a></li>
<li class="chapter" data-level="18.9" data-path="s-refactor.html"><a href="s-refactor.html#s:refactor-lookup"><i class="fa fa-check"></i><b>18.9</b> How can I replace code with data?</a></li>
<li class="chapter" data-level="18.10" data-path="s-refactor.html"><a href="s-refactor.html#s:refactor-comprehension"><i class="fa fa-check"></i><b>18.10</b> What can I use instead of explicit loops?</a></li>
<li class="chapter" data-level="18.11" data-path="s-refactor.html"><a href="s-refactor.html#s:refactor-summary"><i class="fa fa-check"></i><b>18.11</b> Summary</a></li>
<li class="chapter" data-level="18.12" data-path="s-refactor.html"><a href="s-refactor.html#s:refactor-exercises"><i class="fa fa-check"></i><b>18.12</b> Exercises</a><ul>
<li class="chapter" data-level="18.12.1" data-path="s-refactor.html"><a href="s-refactor.html#make-lookup-tables-easier-to-read"><i class="fa fa-check"></i><b>18.12.1</b> Make lookup tables easier to read</a></li>
</ul></li>
<li class="chapter" data-level="18.13" data-path="s-refactor.html"><a href="s-refactor.html#key-points-16"><i class="fa fa-check"></i><b>18.13</b> Key Points</a></li>
</ul></li>
<li class="chapter" data-level="19" data-path="s-project.html"><a href="s-project.html"><i class="fa fa-check"></i><b>19</b> Project Structure</a><ul>
<li class="chapter" data-level="19.1" data-path="s-project.html"><a href="s-project.html#objectives-17"><i class="fa fa-check"></i><b>19.1</b> Objectives</a></li>
<li class="chapter" data-level="19.2" data-path="s-project.html"><a href="s-project.html#s:project-noble"><i class="fa fa-check"></i><b>19.2</b> What are Noble’s Rules?</a></li>
<li class="chapter" data-level="19.3" data-path="s-project.html"><a href="s-project.html#s:project-filenames"><i class="fa fa-check"></i><b>19.3</b> How should files and sub-directories be named?</a></li>
<li class="chapter" data-level="19.4" data-path="s-project.html"><a href="s-project.html#s:project-scripts"><i class="fa fa-check"></i><b>19.4</b> How should I manage a mix of compiled programs and scripts?</a></li>
<li class="chapter" data-level="19.5" data-path="s-project.html"><a href="s-project.html#s:project-docs"><i class="fa fa-check"></i><b>19.5</b> Should I separate documentation from manuscripts?</a></li>
<li class="chapter" data-level="19.6" data-path="s-project.html"><a href="s-project.html#s:project-big-data"><i class="fa fa-check"></i><b>19.6</b> How should I handle data can’t be stored in version control?</a></li>
<li class="chapter" data-level="19.7" data-path="s-project.html"><a href="s-project.html#s:project-boilerplate"><i class="fa fa-check"></i><b>19.7</b> What other files should every project contain?</a></li>
<li class="chapter" data-level="19.8" data-path="s-project.html"><a href="s-project.html#s:project-thinking"><i class="fa fa-check"></i><b>19.8</b> What <em>is</em> a project?</a></li>
<li class="chapter" data-level="19.9" data-path="s-project.html"><a href="s-project.html#s:project-summary"><i class="fa fa-check"></i><b>19.9</b> Summary</a></li>
<li class="chapter" data-level="19.10" data-path="s-project.html"><a href="s-project.html#s:project-exercises"><i class="fa fa-check"></i><b>19.10</b> Exercises</a></li>
<li class="chapter" data-level="19.11" data-path="s-project.html"><a href="s-project.html#key-points-17"><i class="fa fa-check"></i><b>19.11</b> Key Points</a></li>
</ul></li>
<li class="chapter" data-level="20" data-path="s-inclusive.html"><a href="s-inclusive.html"><i class="fa fa-check"></i><b>20</b> Including Everyone</a><ul>
<li class="chapter" data-level="20.1" data-path="s-inclusive.html"><a href="s-inclusive.html#objectives-18"><i class="fa fa-check"></i><b>20.1</b> Objectives</a></li>
<li class="chapter" data-level="20.2" data-path="s-inclusive.html"><a href="s-inclusive.html#s:inclusive-rules"><i class="fa fa-check"></i><b>20.2</b> Why does a project need explicit rules?</a></li>
<li class="chapter" data-level="20.3" data-path="s-inclusive.html"><a href="s-inclusive.html#s:inclusive-software-license"><i class="fa fa-check"></i><b>20.3</b> How should I license my software?</a></li>
<li class="chapter" data-level="20.4" data-path="s-inclusive.html"><a href="s-inclusive.html#s:inclusive-software-text"><i class="fa fa-check"></i><b>20.4</b> How should I license my data and reports?</a></li>
<li class="chapter" data-level="20.5" data-path="s-inclusive.html"><a href="s-inclusive.html#s:inclusive-conduct"><i class="fa fa-check"></i><b>20.5</b> Why should I establish a code of conduct for my project?</a></li>
<li class="chapter" data-level="20.6" data-path="s-inclusive.html"><a href="s-inclusive.html#s:inclusive-why-ally"><i class="fa fa-check"></i><b>20.6</b> Why can I be a good ally for members of marginalized groups?</a></li>
<li class="chapter" data-level="20.7" data-path="s-inclusive.html"><a href="s-inclusive.html#s:inclusive-how-ally"><i class="fa fa-check"></i><b>20.7</b> How can I be a good ally for members of marginalized groups?</a></li>
<li class="chapter" data-level="20.8" data-path="s-inclusive.html"><a href="s-inclusive.html#s:inclusive-summary"><i class="fa fa-check"></i><b>20.8</b> Summary</a></li>
<li class="chapter" data-level="20.9" data-path="s-inclusive.html"><a href="s-inclusive.html#s:inclusive-exercises"><i class="fa fa-check"></i><b>20.9</b> Exercises</a></li>
<li class="chapter" data-level="20.10" data-path="s-inclusive.html"><a href="s-inclusive.html#key-points-18"><i class="fa fa-check"></i><b>20.10</b> Key Points</a></li>
</ul></li>
<li class="chapter" data-level="21" data-path="s-package.html"><a href="s-package.html"><i class="fa fa-check"></i><b>21</b> Packaging</a><ul>
<li class="chapter" data-level="21.1" data-path="s-package.html"><a href="s-package.html#objectives-19"><i class="fa fa-check"></i><b>21.1</b> Objectives</a></li>
<li class="chapter" data-level="21.2" data-path="s-package.html"><a href="s-package.html#s:package-modules"><i class="fa fa-check"></i><b>21.2</b> How can I turn a set of Python source files into a module?</a></li>
<li class="chapter" data-level="21.3" data-path="s-package.html"><a href="s-package.html#s:package-import"><i class="fa fa-check"></i><b>21.3</b> How can I control what is executed during import and what isn’t?</a></li>
<li class="chapter" data-level="21.4" data-path="s-package.html"><a href="s-package.html#s:package-install"><i class="fa fa-check"></i><b>21.4</b> How can I install a Python package?</a></li>
<li class="chapter" data-level="21.5" data-path="s-package.html"><a href="s-package.html#s:package-package"><i class="fa fa-check"></i><b>21.5</b> How can I create an installable Python package?</a></li>
<li class="chapter" data-level="21.6" data-path="s-package.html"><a href="s-package.html#s:package-large"><i class="fa fa-check"></i><b>21.6</b> How can I manage the source code of large packages?</a></li>
<li class="chapter" data-level="21.7" data-path="s-package.html"><a href="s-package.html#s:package-distribute"><i class="fa fa-check"></i><b>21.7</b> How can I distribute software packages that I have created?</a></li>
<li class="chapter" data-level="21.8" data-path="s-package.html"><a href="s-package.html#s:package-virtualenv"><i class="fa fa-check"></i><b>21.8</b> How can I manage the packages my projects need?</a></li>
<li class="chapter" data-level="21.9" data-path="s-package.html"><a href="s-package.html#s:package-test-install"><i class="fa fa-check"></i><b>21.9</b> How can I test package installation?</a></li>
<li class="chapter" data-level="21.10" data-path="s-package.html"><a href="s-package.html#s:package-announce"><i class="fa fa-check"></i><b>21.10</b> Announcing Work</a></li>
<li class="chapter" data-level="21.11" data-path="s-package.html"><a href="s-package.html#s:package-summary"><i class="fa fa-check"></i><b>21.11</b> Summary</a></li>
<li class="chapter" data-level="21.12" data-path="s-package.html"><a href="s-package.html#s:package-exercises"><i class="fa fa-check"></i><b>21.12</b> Exercises</a><ul>
<li class="chapter" data-level="21.12.1" data-path="s-package.html"><a href="s-package.html#clean-up-warning-messages"><i class="fa fa-check"></i><b>21.12.1</b> Clean up warning messages</a></li>
</ul></li>
<li class="chapter" data-level="21.13" data-path="s-package.html"><a href="s-package.html#key-points-19"><i class="fa fa-check"></i><b>21.13</b> Key Points</a></li>
</ul></li>
<li class="chapter" data-level="22" data-path="s-publish.html"><a href="s-publish.html"><i class="fa fa-check"></i><b>22</b> Publishing</a><ul>
<li class="chapter" data-level="22.1" data-path="s-publish.html"><a href="s-publish.html#objectives-20"><i class="fa fa-check"></i><b>22.1</b> Objectives</a></li>
<li class="chapter" data-level="22.2" data-path="s-publish.html"><a href="s-publish.html#s:publish-share"><i class="fa fa-check"></i><b>22.2</b> What is the most useful way to share my data?</a></li>
<li class="chapter" data-level="22.3" data-path="s-publish.html"><a href="s-publish.html#s:publish-fair"><i class="fa fa-check"></i><b>22.3</b> What standards of data sharing should I aspire to?</a><ul>
<li class="chapter" data-level="22.3.1" data-path="s-publish.html"><a href="s-publish.html#data-should-be-findable."><i class="fa fa-check"></i><b>22.3.1</b> Data should be <em>findable</em>.</a></li>
<li class="chapter" data-level="22.3.2" data-path="s-publish.html"><a href="s-publish.html#data-should-be-accessible."><i class="fa fa-check"></i><b>22.3.2</b> Data should be <em>accessible</em>.</a></li>
<li class="chapter" data-level="22.3.3" data-path="s-publish.html"><a href="s-publish.html#data-should-be-interoperable."><i class="fa fa-check"></i><b>22.3.3</b> Data should be <em>interoperable</em>.</a></li>
<li class="chapter" data-level="22.3.4" data-path="s-publish.html"><a href="s-publish.html#data-should-be-reusable."><i class="fa fa-check"></i><b>22.3.4</b> Data should be <em>reusable</em>.</a></li>
</ul></li>
<li class="chapter" data-level="22.4" data-path="s-publish.html"><a href="s-publish.html#s:publish-data"><i class="fa fa-check"></i><b>22.4</b> What data should I publish and how?</a></li>
<li class="chapter" data-level="22.5" data-path="s-publish.html"><a href="s-publish.html#s:publish-identifiers"><i class="fa fa-check"></i><b>22.5</b> How can I identify my work for citation?</a></li>
<li class="chapter" data-level="22.6" data-path="s-publish.html"><a href="s-publish.html#s:publish-self"><i class="fa fa-check"></i><b>22.6</b> How can I identify myself in my publications?</a></li>
<li class="chapter" data-level="22.7" data-path="s-publish.html"><a href="s-publish.html#s:publish-software"><i class="fa fa-check"></i><b>22.7</b> What software should I publish and how?</a></li>
<li class="chapter" data-level="22.8" data-path="s-publish.html"><a href="s-publish.html#s:publish-summary"><i class="fa fa-check"></i><b>22.8</b> Summary</a></li>
<li class="chapter" data-level="22.9" data-path="s-publish.html"><a href="s-publish.html#s:publish-exercises"><i class="fa fa-check"></i><b>22.9</b> Exercises</a></li>
<li class="chapter" data-level="22.10" data-path="s-publish.html"><a href="s-publish.html#key-points-20"><i class="fa fa-check"></i><b>22.10</b> Key Points</a></li>
</ul></li>
<li class="chapter" data-level="23" data-path="s-teamwork.html"><a href="s-teamwork.html"><i class="fa fa-check"></i><b>23</b> Teamwork</a><ul>
<li class="chapter" data-level="23.1" data-path="s-teamwork.html"><a href="s-teamwork.html#objectives-21"><i class="fa fa-check"></i><b>23.1</b> Objectives</a></li>
<li class="chapter" data-level="23.2" data-path="s-teamwork.html"><a href="s-teamwork.html#s:teamwork-efficient"><i class="fa fa-check"></i><b>23.2</b> How can we run meetings more efficiently?</a></li>
<li class="chapter" data-level="23.3" data-path="s-teamwork.html"><a href="s-teamwork.html#s:teamwork-after"><i class="fa fa-check"></i><b>23.3</b> What should we do when the meeting is over?</a></li>
<li class="chapter" data-level="23.4" data-path="s-teamwork.html"><a href="s-teamwork.html#s:teamwork-fair"><i class="fa fa-check"></i><b>23.4</b> How can we keep people from talking too much or too little?</a></li>
<li class="chapter" data-level="23.5" data-path="s-teamwork.html"><a href="s-teamwork.html#s:teamwork-online"><i class="fa fa-check"></i><b>23.5</b> How should we run online meetings?</a></li>
<li class="chapter" data-level="23.6" data-path="s-teamwork.html"><a href="s-teamwork.html#s:teamwork-people"><i class="fa fa-check"></i><b>23.6</b> What sort of people make teamwork hard?</a></li>
<li class="chapter" data-level="23.7" data-path="s-teamwork.html"><a href="s-teamwork.html#s:teamwork-conflict"><i class="fa fa-check"></i><b>23.7</b> How should we handle conflict within the team?</a></li>
<li class="chapter" data-level="23.8" data-path="s-teamwork.html"><a href="s-teamwork.html#s:teamwork-summary"><i class="fa fa-check"></i><b>23.8</b> Summary</a></li>
<li class="chapter" data-level="23.9" data-path="s-teamwork.html"><a href="s-teamwork.html#key-points-21"><i class="fa fa-check"></i><b>23.9</b> Key Points</a></li>
</ul></li>
<li class="chapter" data-level="24" data-path="s-pacing.html"><a href="s-pacing.html"><i class="fa fa-check"></i><b>24</b> Pacing</a><ul>
<li class="chapter" data-level="24.1" data-path="s-pacing.html"><a href="s-pacing.html#objectives-22"><i class="fa fa-check"></i><b>24.1</b> Objectives</a></li>
<li class="chapter" data-level="24.2" data-path="s-pacing.html"><a href="s-pacing.html#s:pacing-crunch"><i class="fa fa-check"></i><b>24.2</b> How much work is overwork and what are its effects?</a></li>
<li class="chapter" data-level="24.3" data-path="s-pacing.html"><a href="s-pacing.html#s:pacing-manage"><i class="fa fa-check"></i><b>24.3</b> How can I manage my time so that I can keep to a productive schedule?</a></li>
<li class="chapter" data-level="24.4" data-path="s-pacing.html"><a href="s-pacing.html#s:pacing-health"><i class="fa fa-check"></i><b>24.4</b> What happens if I don’t manage my workload sensibly?</a></li>
<li class="chapter" data-level="24.5" data-path="s-pacing.html"><a href="s-pacing.html#s:pacing-summary"><i class="fa fa-check"></i><b>24.5</b> Summary</a></li>
<li class="chapter" data-level="24.6" data-path="s-pacing.html"><a href="s-pacing.html#key-points-22"><i class="fa fa-check"></i><b>24.6</b> Key Points</a></li>
</ul></li>
<li class="chapter" data-level="25" data-path="s-finale.html"><a href="s-finale.html"><i class="fa fa-check"></i><b>25</b> Finale</a><ul>
<li class="chapter" data-level="25.1" data-path="s-finale.html"><a href="s-finale.html#objectives-23"><i class="fa fa-check"></i><b>25.1</b> Objectives</a></li>
<li class="chapter" data-level="25.2" data-path="s-finale.html"><a href="s-finale.html#s:finale-programs-data"><i class="fa fa-check"></i><b>25.2</b> Programs are data.</a></li>
<li class="chapter" data-level="25.3" data-path="s-finale.html"><a href="s-finale.html#s:finale-understand"><i class="fa fa-check"></i><b>25.3</b> Computers don’t understand anything.</a></li>
<li class="chapter" data-level="25.4" data-path="s-finale.html"><a href="s-finale.html#s:finale-abstractions"><i class="fa fa-check"></i><b>25.4</b> Programming is about creating and combining abstractions.</a></li>
<li class="chapter" data-level="25.5" data-path="s-finale.html"><a href="s-finale.html#s:finale-redundancy"><i class="fa fa-check"></i><b>25.5</b> Every redundancy in software is an abstraction trying to be born.</a></li>
<li class="chapter" data-level="25.6" data-path="s-finale.html"><a href="s-finale.html#s:finale-models-views"><i class="fa fa-check"></i><b>25.6</b> Create models for computers and views for human beings.</a></li>
<li class="chapter" data-level="25.7" data-path="s-finale.html"><a href="s-finale.html#s:finale-paranoia"><i class="fa fa-check"></i><b>25.7</b> Paranoia makes us productive.</a></li>
<li class="chapter" data-level="25.8" data-path="s-finale.html"><a href="s-finale.html#s:finale-immutable"><i class="fa fa-check"></i><b>25.8</b> Things that don’t change are easier to understand than things that do.</a></li>
<li class="chapter" data-level="25.9" data-path="s-finale.html"><a href="s-finale.html#s:finale-algorithms"><i class="fa fa-check"></i><b>25.9</b> Better algorithms are better than better hardware.</a></li>
<li class="chapter" data-level="25.10" data-path="s-finale.html"><a href="s-finale.html#s:finale-distributed"><i class="fa fa-check"></i><b>25.10</b> Distributed is different.</a></li>
<li class="chapter" data-level="25.11" data-path="s-finale.html"><a href="s-finale.html#s:finale-privacy"><i class="fa fa-check"></i><b>25.11</b> Privacy, security, fairness, and responsibility can’t be added after the fact.</a></li>
<li class="chapter" data-level="25.12" data-path="s-finale.html"><a href="s-finale.html#s:finale-summary"><i class="fa fa-check"></i><b>25.12</b> Summary</a></li>
<li class="chapter" data-level="25.13" data-path="s-finale.html"><a href="s-finale.html#s:finale-exercises"><i class="fa fa-check"></i><b>25.13</b> Exercises</a></li>
<li class="chapter" data-level="25.14" data-path="s-finale.html"><a href="s-finale.html#key-points-23"><i class="fa fa-check"></i><b>25.14</b> Key Points</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="references.html"><a href="references.html"><i class="fa fa-check"></i>References</a></li>
<li class="appendix"><span><b>Appendix</b></span></li>
<li class="chapter" data-level="A" data-path="license.html"><a href="license.html"><i class="fa fa-check"></i><b>A</b> License</a></li>
<li class="chapter" data-level="B" data-path="code-of-conduct.html"><a href="code-of-conduct.html"><i class="fa fa-check"></i><b>B</b> Code of Conduct</a><ul>
<li class="chapter" data-level="B.1" data-path="code-of-conduct.html"><a href="code-of-conduct.html#our-standards"><i class="fa fa-check"></i><b>B.1</b> Our Standards</a></li>
<li class="chapter" data-level="B.2" data-path="code-of-conduct.html"><a href="code-of-conduct.html#our-responsibilities"><i class="fa fa-check"></i><b>B.2</b> Our Responsibilities</a></li>
<li class="chapter" data-level="B.3" data-path="code-of-conduct.html"><a href="code-of-conduct.html#scope"><i class="fa fa-check"></i><b>B.3</b> Scope</a></li>
<li class="chapter" data-level="B.4" data-path="code-of-conduct.html"><a href="code-of-conduct.html#enforcement"><i class="fa fa-check"></i><b>B.4</b> Enforcement</a></li>
<li class="chapter" data-level="B.5" data-path="code-of-conduct.html"><a href="code-of-conduct.html#attribution"><i class="fa fa-check"></i><b>B.5</b> Attribution</a></li>
</ul></li>
<li class="chapter" data-level="C" data-path="contributing.html"><a href="contributing.html"><i class="fa fa-check"></i><b>C</b> Contributing</a></li>
<li class="chapter" data-level="D" data-path="glossary.html"><a href="glossary.html"><i class="fa fa-check"></i><b>D</b> Glossary</a></li>
<li class="chapter" data-level="E" data-path="s-objectives.html"><a href="s-objectives.html"><i class="fa fa-check"></i><b>E</b> Learning Objectives</a><ul>
<li class="chapter" data-level="E.1" data-path="s-objectives.html"><a href="s-objectives.html#introduction"><i class="fa fa-check"></i><b>E.1</b> Introduction</a></li>
<li class="chapter" data-level="E.2" data-path="s-objectives.html"><a href="s-objectives.html#the-unix-shell"><i class="fa fa-check"></i><b>E.2</b> The Unix Shell</a></li>
<li class="chapter" data-level="E.3" data-path="s-objectives.html"><a href="s-objectives.html#automating-analyses"><i class="fa fa-check"></i><b>E.3</b> Automating Analyses</a></li>
<li class="chapter" data-level="E.4" data-path="s-objectives.html"><a href="s-objectives.html#syndicating-data"><i class="fa fa-check"></i><b>E.4</b> Syndicating Data</a></li>
<li class="chapter" data-level="E.5" data-path="s-objectives.html"><a href="s-objectives.html#configuring-software"><i class="fa fa-check"></i><b>E.5</b> Configuring Software</a></li>
<li class="chapter" data-level="E.6" data-path="s-objectives.html"><a href="s-objectives.html#logging"><i class="fa fa-check"></i><b>E.6</b> Logging</a></li>
<li class="chapter" data-level="E.7" data-path="s-objectives.html"><a href="s-objectives.html#unit-testing"><i class="fa fa-check"></i><b>E.7</b> Unit Testing</a></li>
<li class="chapter" data-level="E.8" data-path="glossary.html"><a href="glossary.html#verification"><i class="fa fa-check"></i><b>E.8</b> Verification</a></li>
<li class="chapter" data-level="E.9" data-path="s-objectives.html"><a href="s-objectives.html#a-branching-workflow"><i class="fa fa-check"></i><b>E.9</b> A Branching Workflow</a></li>
<li class="chapter" data-level="E.10" data-path="s-objectives.html"><a href="s-objectives.html#managing-backlog"><i class="fa fa-check"></i><b>E.10</b> Managing Backlog</a></li>
<li class="chapter" data-level="E.11" data-path="s-objectives.html"><a href="s-objectives.html#code-style-and-review"><i class="fa fa-check"></i><b>E.11</b> Code Style and Review</a></li>
<li class="chapter" data-level="E.12" data-path="s-objectives.html"><a href="s-objectives.html#development-process"><i class="fa fa-check"></i><b>E.12</b> Development Process</a></li>
<li class="chapter" data-level="E.13" data-path="glossary.html"><a href="glossary.html#continuous-integration"><i class="fa fa-check"></i><b>E.13</b> Continuous Integration</a></li>
<li class="chapter" data-level="E.14" data-path="s-objectives.html"><a href="s-objectives.html#working-remotely"><i class="fa fa-check"></i><b>E.14</b> Working Remotely</a></li>
<li class="chapter" data-level="E.15" data-path="s-objectives.html"><a href="s-objectives.html#other-tools"><i class="fa fa-check"></i><b>E.15</b> Other Tools</a></li>
<li class="chapter" data-level="E.16" data-path="s-objectives.html"><a href="s-objectives.html#documentation"><i class="fa fa-check"></i><b>E.16</b> Documentation</a></li>
<li class="chapter" data-level="E.17" data-path="s-objectives.html"><a href="s-objectives.html#refactoring"><i class="fa fa-check"></i><b>E.17</b> Refactoring</a></li>
<li class="chapter" data-level="E.18" data-path="s-objectives.html"><a href="s-objectives.html#project-structure"><i class="fa fa-check"></i><b>E.18</b> Project Structure</a></li>
<li class="chapter" data-level="E.19" data-path="s-objectives.html"><a href="s-objectives.html#including-everyone"><i class="fa fa-check"></i><b>E.19</b> Including Everyone</a></li>
<li class="chapter" data-level="E.20" data-path="s-objectives.html"><a href="s-objectives.html#packaging"><i class="fa fa-check"></i><b>E.20</b> Packaging</a></li>
<li class="chapter" data-level="E.21" data-path="s-objectives.html"><a href="s-objectives.html#publishing"><i class="fa fa-check"></i><b>E.21</b> Publishing</a></li>
<li class="chapter" data-level="E.22" data-path="s-objectives.html"><a href="s-objectives.html#teamwork"><i class="fa fa-check"></i><b>E.22</b> Teamwork</a></li>
<li class="chapter" data-level="E.23" data-path="s-objectives.html"><a href="s-objectives.html#pacing"><i class="fa fa-check"></i><b>E.23</b> Pacing</a></li>
<li class="chapter" data-level="E.24" data-path="s-objectives.html"><a href="s-objectives.html#finale"><i class="fa fa-check"></i><b>E.24</b> Finale</a></li>
</ul></li>
<li class="chapter" data-level="F" data-path="s-keypoints.html"><a href="s-keypoints.html"><i class="fa fa-check"></i><b>F</b> Key Points</a><ul>
<li class="chapter" data-level="F.1" data-path="s-keypoints.html"><a href="s-keypoints.html#introduction-1"><i class="fa fa-check"></i><b>F.1</b> Introduction</a></li>
<li class="chapter" data-level="F.2" data-path="s-keypoints.html"><a href="s-keypoints.html#the-unix-shell-1"><i class="fa fa-check"></i><b>F.2</b> The Unix Shell</a></li>
<li class="chapter" data-level="F.3" data-path="s-keypoints.html"><a href="s-keypoints.html#automating-analyses-1"><i class="fa fa-check"></i><b>F.3</b> Automating Analyses</a></li>
<li class="chapter" data-level="F.4" data-path="s-keypoints.html"><a href="s-keypoints.html#syndicating-data-1"><i class="fa fa-check"></i><b>F.4</b> Syndicating Data</a></li>
<li class="chapter" data-level="F.5" data-path="s-keypoints.html"><a href="s-keypoints.html#configuring-software-1"><i class="fa fa-check"></i><b>F.5</b> Configuring Software</a></li>
<li class="chapter" data-level="F.6" data-path="s-keypoints.html"><a href="s-keypoints.html#logging-1"><i class="fa fa-check"></i><b>F.6</b> Logging</a></li>
<li class="chapter" data-level="F.7" data-path="s-keypoints.html"><a href="s-keypoints.html#unit-testing-1"><i class="fa fa-check"></i><b>F.7</b> Unit Testing</a></li>
<li class="chapter" data-level="F.8" data-path="s-keypoints.html"><a href="s-keypoints.html#verification-1"><i class="fa fa-check"></i><b>F.8</b> Verification</a></li>
<li class="chapter" data-level="F.9" data-path="s-keypoints.html"><a href="s-keypoints.html#a-branching-workflow-1"><i class="fa fa-check"></i><b>F.9</b> A Branching Workflow</a></li>
<li class="chapter" data-level="F.10" data-path="s-keypoints.html"><a href="s-keypoints.html#managing-backlog-1"><i class="fa fa-check"></i><b>F.10</b> Managing Backlog</a></li>
<li class="chapter" data-level="F.11" data-path="s-keypoints.html"><a href="s-keypoints.html#code-style-and-review-1"><i class="fa fa-check"></i><b>F.11</b> Code Style and Review</a></li>
<li class="chapter" data-level="F.12" data-path="s-keypoints.html"><a href="s-keypoints.html#development-process-1"><i class="fa fa-check"></i><b>F.12</b> Development Process</a></li>
<li class="chapter" data-level="F.13" data-path="s-keypoints.html"><a href="s-keypoints.html#continuous-integration-1"><i class="fa fa-check"></i><b>F.13</b> Continuous Integration</a></li>
<li class="chapter" data-level="F.14" data-path="s-keypoints.html"><a href="s-keypoints.html#working-remotely-1"><i class="fa fa-check"></i><b>F.14</b> Working Remotely</a></li>
<li class="chapter" data-level="F.15" data-path="s-keypoints.html"><a href="s-keypoints.html#other-tools-1"><i class="fa fa-check"></i><b>F.15</b> Other Tools</a></li>
<li class="chapter" data-level="F.16" data-path="s-keypoints.html"><a href="s-keypoints.html#documentation-1"><i class="fa fa-check"></i><b>F.16</b> Documentation</a></li>
<li class="chapter" data-level="F.17" data-path="s-keypoints.html"><a href="s-keypoints.html#refactoring-1"><i class="fa fa-check"></i><b>F.17</b> Refactoring</a></li>
<li class="chapter" data-level="F.18" data-path="s-keypoints.html"><a href="s-keypoints.html#project-structure-1"><i class="fa fa-check"></i><b>F.18</b> Project Structure</a></li>
<li class="chapter" data-level="F.19" data-path="s-keypoints.html"><a href="s-keypoints.html#including-everyone-1"><i class="fa fa-check"></i><b>F.19</b> Including Everyone</a></li>
<li class="chapter" data-level="F.20" data-path="s-keypoints.html"><a href="s-keypoints.html#packaging-1"><i class="fa fa-check"></i><b>F.20</b> Packaging</a></li>
<li class="chapter" data-level="F.21" data-path="s-keypoints.html"><a href="s-keypoints.html#publishing-1"><i class="fa fa-check"></i><b>F.21</b> Publishing</a></li>
<li class="chapter" data-level="F.22" data-path="s-keypoints.html"><a href="s-keypoints.html#teamwork-1"><i class="fa fa-check"></i><b>F.22</b> Teamwork</a></li>
<li class="chapter" data-level="F.23" data-path="s-keypoints.html"><a href="s-keypoints.html#pacing-1"><i class="fa fa-check"></i><b>F.23</b> Pacing</a></li>
<li class="chapter" data-level="F.24" data-path="s-keypoints.html"><a href="s-keypoints.html#finale-1"><i class="fa fa-check"></i><b>F.24</b> Finale</a></li>
</ul></li>
<li class="chapter" data-level="G" data-path="s-rules.html"><a href="s-rules.html"><i class="fa fa-check"></i><b>G</b> The Rules</a></li>
</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Merely Useful</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="s:syndicate" class="section level1">
<h1><span class="header-section-number">Chapter 5</span> Syndicating Data</h1>
<div id="objectives-3" class="section level2">
<h2><span class="header-section-number">5.1</span> Objectives</h2>
<ul>
<li>"Write Python programs to download data sets using simple REST APIs.</li>
<li>"Parse CSV data using the <code>csv</code> library.</li>
<li>"Test a program that parses CSV using multiline strings.</li>
<li>"Make a function more robust by explicitly handling errors.</li>
<li>"Write Python programs that share static data sets.</li>
</ul>
<p>A growing number of organizations make data sets available on the web in a style called <a href="glossary.html#rest">REST</a>,
which stands for REpresentational State Transfer.
When REST is used,
every data set is identified by a URL
and can be accessed through a set of functions
called an <a href="glossary.html#api">application programming interface</a> (API).
This lesson will look at how to use these interfaces,
and how to provide data through them ourselves.</p>
</div>
<div id="s:syndicate-fetch" class="section level2">
<h2><span class="header-section-number">5.2</span> How can I fetch data data from a website?</h2>
<p>The World Bank’s <a href="http://data.worldbank.org/developers/climate-data-api">Climate Data API</a>
provides data generated by 15 global circulation models.
According to the API’s <a href="http://data.worldbank.org/developers/climate-data-api">home page</a>,
the data sets containing yearly averages for various values are identified by URLs of the form:</p>
<p><code><a href="http://climatedataapi.worldbank.org/climateweb/rest/v1/country/cru/" class="uri">http://climatedataapi.worldbank.org/climateweb/rest/v1/country/cru/</a><em>VAR</em>/year/<em>ISO3</em>.<em>EXT</em></code></p>
<p>where:</p>
<ul>
<li><em>VAR</em> is either <code>pr</code> (for precipitation) or <code>tas</code> (for “temperature at surface”);</li>
<li><em>ISO3</em> is the International Standards Organization (ISO)
<a href="http://en.wikipedia.org/wiki/ISO_3166-1_alpha-3">3-letter code for a country</a>,
such as “CAN” for Canada or “BRA” for Brazil;
and</li>
<li><em>EXT</em> (short for “extension”) specifies the format we want the data in.
There are several choices for format,
but the simplest is <a href="glossary.html#csv">comma-separated values</a> (CSV),
in which each record is a row,
and the values in each row are separated by commas.
(CSV is frequently used for spreadsheet data.)</li>
</ul>
<p>For example, if we want the average annual temperature in Canada as a CSV file, the URL is:</p>
<pre class="text"><code>http://climatedataapi.worldbank.org/climateweb/rest/v1/country/cru/tas/year/CAN.csv</code></pre>
<p>If we paste that URL into a browser, it displays:</p>
<pre class="text"><code>year,data
1901,-7.67241907119751
1902,-7.862711429595947
1903,-7.910782814025879
...
2007,-6.819293975830078
2008,-7.2008957862854
2009,-6.997011661529541</code></pre>
<blockquote>
<p><strong>Behind the Scenes</strong></p>
<p>This particular data set might be stored in a file on the World Bank’s server,
or that server might:</p>
<ol style="list-style-type: decimal">
<li>Receive our URL.</li>
<li>Break it into pieces.</li>
<li>Extract the three key fields (the variable, the country code, and the desired format).</li>
<li>Fetch the desired data from a database.</li>
<li>Format the data as CSV.</li>
<li>Send that to our browser.</li>
</ol>
<p>As long as the World Bank doesn’t change its URLs,
we don’t need to know which method it’s using
and it can switch back and forth between them without breaking our programs.</p>
</blockquote>
<p>If we only wanted to look at data for a couple of countries,
we could just download those files one by one.
But we want to compare data for many different pairs of countries,
so we should write a program.</p>
<p>Python has a library called <a href="http://docs.python-requests.org">Requests</a> for running HTTP requests.
To install it, run:</p>
<pre class="shell"><code>$ pip install requests</code></pre>
<p>(Note that <code>pip</code> is a program in its own right,
so the command above must be run in the shell,
and <em>not</em> from within Python itself.)
Once it is installed,
we can get the data we want like this:</p>
<pre class="sourceCode python"><code class="sourceCode python"><span class="im">import</span> requests

url <span class="op">=</span> <span class="st">&#39;http://climatedataapi.worldbank.org/climateweb/rest/v1/country/cru/tas/year/CAN.csv&#39;</span>
response <span class="op">=</span> requests.get(url)
<span class="cf">if</span> response.status_code <span class="op">!=</span> <span class="dv">200</span>:
    <span class="bu">print</span>(<span class="st">&#39;Failed to get data:&#39;</span>, response.status_code)
<span class="cf">else</span>:
    <span class="bu">print</span>(<span class="st">&#39;First 100 characters of data are&#39;</span>)
    <span class="bu">print</span>(response.text[:<span class="dv">100</span>])</code></pre>
<p>{: title=“syndicate/get_tas_can.py”}</p>
<pre class="text"><code>First 100 characters of data are
year,data
1901,-7.67241907119751
1902,-7.862711429595947
1903,-7.910782814025879
1904,-8.15572929382</code></pre>
<p><code>requests.get</code> actually gets our data. More specifically, it:</p>
<ul>
<li>creates a connection to the <code>climatedataapi.worldbank.org</code> server;</li>
<li>sends the URL <code>/climateweb/rest/v1/country/cru/tas/year/CAN.csv</code> to that server;</li>
<li>creates an object in memory on our computer to hold the response;</li>
<li>assigns a number to that object’s <code>status_code</code> member variable to tell us whether the request succeeded or not; and</li>
<li>assigns the data sent back by the web server to the object’s <code>text</code> member variable.</li>
</ul>
<p>(We could just pass this URL as an argument to the <code>requests.get</code> call,
but assigning it to a variable makes it easier to find.)</p>
<p>The server can return many different <a href="glossary.html#http-status-code">status codes</a>;
the most common are:</p>
<table>
<colgroup>
<col width="5%" />
<col width="21%" />
<col width="72%" />
</colgroup>
<thead>
<tr class="header">
<th>Code</th>
<th>Name</th>
<th>Meaning</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>200</td>
<td>OK</td>
<td>The request has succeeded.</td>
</tr>
<tr class="even">
<td>204</td>
<td>No Content</td>
<td>The server has completed the request, but doesn’t need to return any data.</td>
</tr>
<tr class="odd">
<td>400</td>
<td>Bad Request</td>
<td>The request is badly formatted.</td>
</tr>
<tr class="even">
<td>401</td>
<td>Unauthorized</td>
<td>The request requires authentication.</td>
</tr>
<tr class="odd">
<td>404</td>
<td>Not Found</td>
<td>The requested resource could not be found.</td>
</tr>
<tr class="even">
<td>408</td>
<td>Timeout</td>
<td>The server gave up waiting for the client.</td>
</tr>
<tr class="odd">
<td>418</td>
<td>I’m a teapot</td>
<td>No, really…</td>
</tr>
<tr class="even">
<td>500</td>
<td>Internal Server Error</td>
<td>An error occurred in the server.</td>
</tr>
</tbody>
</table>
<p>200 (OK) is the one we want;
if we get anything else, the response probably doesn’t contain actual data
(though it might contain an error message).</p>
</div>
<div id="s:syndicate-csv" class="section level2">
<h2><span class="header-section-number">5.3</span> How can I handle tabular data?</h2>
<p>Our little program gets the data we want,
but returns it as one long character string rather than as a list of numbers.
There are two ways we could convert the former to the latter:</p>
<ul>
<li>Write a function to split that string on newline characters to create lines,
then split the lines on commas and convert the second part of each to a number.</li>
<li>Use a Python library to do this for us.</li>
</ul>
<p>Most experienced programmers would say that the second approach is easier,
but “easy” is relative:
using standard libraries is only easier if we know that those libraries exist and how to use them.</p>
<p>Let’s try the first approach.
To begin,
we create a file called <code>test_01.csv</code> that contains the following three lines:</p>
<pre class="text"><code>1901,12.3
1902,45.6
1903,78.9</code></pre>
<p>{: title=“syndicate/test_01.csv”}</p>
<p>It’s easy to read this file line by line and (for example) report the length of each line:</p>
<pre class="sourceCode python"><code class="sourceCode python"><span class="cf">with</span> <span class="bu">open</span>(<span class="st">&#39;test_01.csv&#39;</span>, <span class="st">&#39;r&#39;</span>) <span class="im">as</span> reader:
    <span class="cf">for</span> line <span class="kw">in</span> reader:
        <span class="bu">print</span>(<span class="bu">len</span>(line))</code></pre>
<p>{: title=“syndicate/read_csv_01.py”}</p>
<pre class="text"><code>10
10
10</code></pre>
<p>We can also split each line on commas to turn each one into a list of string fragments:</p>
<pre class="sourceCode python"><code class="sourceCode python"><span class="cf">with</span> <span class="bu">open</span>(<span class="st">&#39;test_01.csv&#39;</span>, <span class="st">&#39;r&#39;</span>) <span class="im">as</span> reader:
    <span class="cf">for</span> line <span class="kw">in</span> reader:
        fields <span class="op">=</span> line.split(<span class="st">&#39;,&#39;</span>)
        <span class="bu">print</span>(fields)</code></pre>
<p>{: title=“syndicate/read_csv_02.py”}</p>
<pre class="text"><code>[&#39;1901&#39;, &#39;12.3\n&#39;]
[&#39;1902&#39;, &#39;45.6\n&#39;]
[&#39;1903&#39;, &#39;78.9\n&#39;]</code></pre>
<p>The dates are correct,
but the values all end with <code>\n</code>.
This is an <a href="glossary.html#escape-sequence">escape sequence</a> that represents
the newline character at the end of each line.
To get rid of it,
we should strip leading and trailing whitespace from each line before splitting it on commas:</p>
<pre class="sourceCode python"><code class="sourceCode python"><span class="cf">with</span> <span class="bu">open</span>(<span class="st">&#39;test_01.csv&#39;</span>, <span class="st">&#39;r&#39;</span>) <span class="im">as</span> reader:
    <span class="cf">for</span> line <span class="kw">in</span> reader:
        fields <span class="op">=</span> line.strip().split(<span class="st">&#39;,&#39;</span>)
        <span class="bu">print</span>(fields)</code></pre>
<p>{: title=“syndicate/read_csv_03.py”}</p>
<pre class="text"><code>[&#39;1901&#39;, &#39;12.3&#39;]
[&#39;1902&#39;, &#39;45.6&#39;]
[&#39;1903&#39;, &#39;78.9&#39;]</code></pre>
<p>Now let’s have a look at how we could parse the data using standard Python libraries instead.
The library we’ll use is called <code>csv</code>.
It doesn’t read data itself:
instead, it takes the lines read by something else and turns them into lists of values by splitting on commas.
Here’s one way to use it:</p>
<pre class="sourceCode python"><code class="sourceCode python"><span class="im">import</span> csv

<span class="cf">with</span> <span class="bu">open</span>(<span class="st">&#39;test_01.csv&#39;</span>, <span class="st">&#39;r&#39;</span>) <span class="im">as</span> raw:
    cooked <span class="op">=</span> csv.reader(raw)
    <span class="cf">for</span> record <span class="kw">in</span> cooked:
        <span class="bu">print</span>(record)</code></pre>
<p>{: title=“syndicate/read_csv_04.py”}</p>
<pre class="text"><code>[&#39;1901&#39;, &#39;12.3&#39;]
[&#39;1902&#39;, &#39;45.6&#39;]
[&#39;1903&#39;, &#39;78.9&#39;]</code></pre>
<p>Here,
<code>raw</code> reads data in the normal way,
while <code>cooked</code> is a <a href="glossary.html#wrapper">wrapper</a>
that takes a line of text and turns it into a list of fields.</p>
<p>We can equally well give a <code>csv.reader</code> a list of strings rather than a file:</p>
<pre class="sourceCode python"><code class="sourceCode python"><span class="im">import</span> csv

<span class="cf">with</span> <span class="bu">open</span>(<span class="st">&#39;test_01.csv&#39;</span>, <span class="st">&#39;r&#39;</span>) <span class="im">as</span> raw:
    lines <span class="op">=</span> raw.readlines()
cooked <span class="op">=</span> csv.reader(lines)
<span class="cf">for</span> record <span class="kw">in</span> cooked:
    <span class="bu">print</span>(record)</code></pre>
<p>{: title=“syndicate/read_csv_05.py”}</p>
<pre class="text"><code>[&#39;1901&#39;, &#39;12.3&#39;]
[&#39;1902&#39;, &#39;45.6&#39;]
[&#39;1903&#39;, &#39;78.9&#39;]</code></pre>
<p>Using the <code>csv</code> library doesn’t seem any simpler than just splitting strings,
but look at what happens when we have data like this:</p>
<pre class="text"><code>&quot;Meltzer, Marlyn Wescoff&quot;,1922,2008
&quot;Spence, Frances Bilas&quot;,1922,2012
&quot;Teitelbaum,Ruth Lichterman&quot;,1924,1986</code></pre>
<p>{: title=“syndicate/test_02.csv”}</p>
<p>With simple string splitting, our output is:</p>
<pre class="text"><code>[&#39;&quot;Meltzer&#39;, &#39; Marlyn Wescoff&quot;&#39;, &#39;1922&#39;, &#39;2008&#39;]
[&#39;&quot;Spence&#39;, &#39; Frances Bilas&quot;&#39;, &#39;1922&#39;, &#39;2012&#39;]
[&#39;&quot;Teitelbaum&#39;, &#39;Ruth Lichterman&quot;&#39;, &#39;1924&#39;, &#39;1986&#39;]</code></pre>
<p>The double quotes are still there,
and the field containing each person’s name has been split into pieces.
If we use the <code>csv</code> library,
on the other hand,
the output is:</p>
<pre class="text"><code>[&#39;Meltzer, Marlyn Wescoff&#39;, &#39;1922&#39;, &#39;2008&#39;]
[&#39;Spence, Frances Bilas&#39;, &#39;1922&#39;, &#39;2012&#39;]
[&#39;Teitelbaum,Ruth Lichterman&#39;, &#39;1924&#39;, &#39;1986&#39;]</code></pre>
<p>because the library understands how to handle text fields containing commas
(and a lot more).</p>
<p>We need to do one more thing before using <code>csv</code> with the climate data.
When we use the World Bank’s API to get data for a particular country,
it comes back as one long string:</p>
<pre class="text"><code>year,data
1901,-7.67241907119751
1902,-7.862711429595947
1903,-7.910782814025879
...</code></pre>
<p>We have to break this into lines before giving it to <code>csv.reader</code>,
and we can do that by splitting the string on the same <code>\n</code> escape sequence
we encountered a few moments ago.
To see how this works,
let’s read <code>test_01.csv</code> into memory and split it into pieces:</p>
<pre class="sourceCode python"><code class="sourceCode python"><span class="cf">with</span> <span class="bu">open</span>(<span class="st">&#39;test_01.csv&#39;</span>, <span class="st">&#39;r&#39;</span>) <span class="im">as</span> reader:
    data <span class="op">=</span> reader.read()
    lines <span class="op">=</span> data.split(<span class="st">&#39;</span><span class="ch">\n</span><span class="st">&#39;</span>)
    <span class="bu">print</span>(lines)</code></pre>
<p>{: title=“syndicate/read_csv_06.py”}</p>
<pre class="text"><code>[&#39;1901,12.3&#39;, &#39;1902,45.6&#39;, &#39;1903,78.9&#39;, &#39;&#39;]</code></pre>
<p>That’s <em>almost</em> right, but why is there an empty string at the end of the list?
The answer is that the last line of the file ends in a newline,
so Python does the same thing it does in the example below:</p>
<pre class="sourceCode python"><code class="sourceCode python">fields <span class="op">=</span> <span class="st">&#39;a-b-&#39;</span>.split(<span class="st">&#39;-&#39;</span>)
<span class="bu">print</span>(fields)</code></pre>
<pre class="text"><code>[&#39;a&#39;, &#39;b&#39;, &#39;&#39;]</code></pre>
<p>The solution once again is to strip leading and trailing whitespace before splitting:</p>
<pre class="sourceCode python"><code class="sourceCode python"><span class="cf">with</span> <span class="bu">open</span>(<span class="st">&#39;test_01.csv&#39;</span>, <span class="st">&#39;r&#39;</span>) <span class="im">as</span> reader:
    data <span class="op">=</span> reader.read()
    lines <span class="op">=</span> data.strip().split(<span class="st">&#39;</span><span class="ch">\n</span><span class="st">&#39;</span>)
    <span class="bu">print</span>(lines)</code></pre>
<p>{: title=“syndicate/read_csv_07.py”}</p>
<pre class="text"><code>[&#39;1901,12.3&#39;, &#39;1902,45.6&#39;, &#39;1903,78.9&#39;]</code></pre>
<p>Putting this all together, we can get data for Canada like this:</p>
<pre class="sourceCode python"><code class="sourceCode python"><span class="im">import</span> requests
<span class="im">import</span> csv

url <span class="op">=</span> <span class="st">&#39;http://climatedataapi.worldbank.org/climateweb/rest/v1/country/cru/tas/year/CAN.csv&#39;</span>
response <span class="op">=</span> requests.get(url)
<span class="cf">if</span> response.status_code <span class="op">!=</span> <span class="dv">200</span>:
    <span class="bu">print</span>(<span class="st">&#39;Failed to get data:&#39;</span>, response.status_code)
<span class="cf">else</span>:
    wrapper <span class="op">=</span> csv.reader(response.text.strip().split(<span class="st">&#39;</span><span class="ch">\n</span><span class="st">&#39;</span>))
    <span class="cf">for</span> record <span class="kw">in</span> wrapper:
        <span class="bu">print</span>(record)</code></pre>
<p>{: title=“syndicate/get_tas_can_csv.py”}</p>
<pre class="text"><code>[&#39;year&#39;, &#39;data&#39;]
[&#39;1901&#39;, &#39;-7.67241907119751&#39;]
[&#39;1902&#39;, &#39;-7.862711429595947&#39;]
[&#39;1903&#39;, &#39;-7.910782814025879&#39;]
[&#39;1904&#39;, &#39;-8.155729293823242&#39;]
[&#39;1905&#39;, &#39;-7.547311305999756&#39;]
...</code></pre>
<p>That looks like progress,
so let’s convert the data from strings to the numbers we actually want:</p>
<pre class="sourceCode python"><code class="sourceCode python"><span class="im">import</span> requests
<span class="im">import</span> csv

url <span class="op">=</span> <span class="st">&#39;http://climatedataapi.worldbank.org/climateweb/rest/v1/country/cru/tas/year/CAN.csv&#39;</span>
response <span class="op">=</span> requests.get(url)
<span class="cf">if</span> response.status_code <span class="op">!=</span> <span class="dv">200</span>:
    <span class="bu">print</span>(<span class="st">&#39;Failed to get data:&#39;</span>, response.status_code)
<span class="cf">else</span>:
    wrapper <span class="op">=</span> csv.reader(response.text.strip().split(<span class="st">&#39;</span><span class="ch">\n</span><span class="st">&#39;</span>))
    <span class="cf">for</span> record <span class="kw">in</span> wrapper:
        year <span class="op">=</span> <span class="bu">int</span>(record[<span class="dv">0</span>])
        value <span class="op">=</span> <span class="bu">float</span>(record[<span class="dv">1</span>])
        <span class="bu">print</span>(year, value)</code></pre>
<p>{: title=“syndicate/get_tas_can_convert.py”}</p>
<pre class="text"><code>Traceback (most recent call last):
  File &quot;api_with_naive_converting.py&quot;, line 11, in &lt;module&gt;
    year = int(record[0])
ValueError: invalid literal for int() with base 10: &#39;year&#39;</code></pre>
<p>The error occurs because the first line of data is:</p>
<pre class="text"><code>year,data</code></pre>
<p>When we try to convert the string <code>'year'</code> to an integer,
Python quite rightly complains.
The fix is straightforward:
we just need to ignore lines that start with the word <code>year</code>:</p>
<pre class="sourceCode python"><code class="sourceCode python"><span class="im">import</span> requests
<span class="im">import</span> csv

url <span class="op">=</span> <span class="st">&#39;http://climatedataapi.worldbank.org/climateweb/rest/v1/country/cru/tas/year/CAN.csv&#39;</span>
response <span class="op">=</span> requests.get(url)
<span class="cf">if</span> response.status_code <span class="op">!=</span> <span class="dv">200</span>:
    <span class="bu">print</span>(<span class="st">&#39;Failed to get data:&#39;</span>, response.status_code)
<span class="cf">else</span>:
    wrapper <span class="op">=</span> csv.reader(response.text.strip().split(<span class="st">&#39;</span><span class="ch">\n</span><span class="st">&#39;</span>))
    results <span class="op">=</span> []
    <span class="cf">for</span> record <span class="kw">in</span> wrapper:
        <span class="cf">if</span> record[<span class="dv">0</span>] <span class="op">!=</span> <span class="st">&#39;year&#39;</span>:
            year <span class="op">=</span> <span class="bu">int</span>(record[<span class="dv">0</span>])
            value <span class="op">=</span> <span class="bu">float</span>(record[<span class="dv">1</span>])
            <span class="bu">print</span>(year, value)</code></pre>
<p>{: title=“syndicate/get_tas_can_clean.py”}</p>
<pre class="text"><code>1901 -7.67241907119751
1902 -7.862711429595947
1903 -7.910782814025879
1904 -8.155729293823242
1905 -7.547311305999756
...</code></pre>
</div>
<div id="s:syndicate-generalize" class="section level2">
<h2><span class="header-section-number">5.4</span> How can I generalize data fetching and handle errors?</h2>
<p>Now that we know how to get the data for Canada,
let’s create a function that will do the same thing for an arbitrary country.
The steps are simple:</p>
<ol style="list-style-type: decimal">
<li>copy the code we’ve written into a function that takes a 3-letter country code as a parameter,</li>
<li>insert that country code into the URL at the appropriate place, and</li>
<li>return the result as a list instead of printing it.</li>
</ol>
<p>The resulting function looks like:</p>
<pre class="sourceCode python"><code class="sourceCode python"><span class="kw">def</span> annual_mean_temp(country):
    <span class="co">&#39;&#39;&#39;Get the annual mean temperature for a country given its 3-letter ISO code (such as &quot;CAN&quot;).&#39;&#39;&#39;</span>
    url <span class="op">=</span> <span class="st">&#39;http://climatedataapi.worldbank.org/climateweb/rest/v1/country/cru/tas/year/&#39;</span> <span class="op">+</span> country <span class="op">+</span> <span class="st">&#39;.csv&#39;</span>
    response <span class="op">=</span> requests.get(url)
    <span class="cf">if</span> response.status_code <span class="op">!=</span> <span class="dv">200</span>:
        <span class="bu">print</span>(<span class="st">&#39;Failed to get data:&#39;</span>, response.status_code)
    <span class="cf">else</span>:
        wrapper <span class="op">=</span> csv.reader(response.text.strip().split(<span class="st">&#39;</span><span class="ch">\n</span><span class="st">&#39;</span>))
        results <span class="op">=</span> []
        <span class="cf">for</span> record <span class="kw">in</span> wrapper:
            <span class="cf">if</span> record[<span class="dv">0</span>] <span class="op">!=</span> <span class="st">&#39;year&#39;</span>:
                year <span class="op">=</span> <span class="bu">int</span>(record[<span class="dv">0</span>])
                value <span class="op">=</span> <span class="bu">float</span>(record[<span class="dv">1</span>])
                results.append([year, value])
        <span class="cf">return</span> results</code></pre>
<p>{: title=“syndicate/get_without_check.py”}</p>
<p>This works:</p>
<pre class="sourceCode python"><code class="sourceCode python">canada <span class="op">=</span> annual_mean_temp(<span class="st">&#39;CAN&#39;</span>)
<span class="bu">print</span>(<span class="st">&#39;first three entries for Canada:&#39;</span>, canada[:<span class="dv">3</span>])</code></pre>
<p>{: title=“syndicate/get_without_check.py”}</p>
<pre class="text"><code>first three entries for Canada: [[1901, -7.67241907119751], [1902, -7.862711429595947], [1903, -7.910782814025879]]</code></pre>
<p>However,
there’s a problem.
Look what happens when we pass in an invalid country identifier:</p>
<pre class="sourceCode python"><code class="sourceCode python">latveria <span class="op">=</span> annual_mean_temp(<span class="st">&#39;LTV&#39;</span>)
<span class="bu">print</span> <span class="st">&#39;first three entries for Latveria:&#39;</span>, latveria[:<span class="dv">3</span>]</code></pre>
<p>{: title=“syndicate/get_without_check.py”}</p>
<pre class="text"><code>first three entries for Latveria: []</code></pre>
<p>Latveria doesn’t exist,
so why is our function returning an empty list rather than printing an error message?
The non-appearance of an error message must mean that the response code was 200;
if it was anything else,
we would have gone into the <code>if</code> branch,
printed a message,
and returned <code>None</code>
(which is what functions do when they’re not told to return anything specific).</p>
<p>So if the response code was 200 and there was no data, that would explain what we’re seeing.
Let’s check:</p>
<pre class="sourceCode python"><code class="sourceCode python"><span class="kw">def</span> annual_mean_temp(country):
    <span class="co">&#39;&#39;&#39;Get the annual mean temperature for a country given its 3-letter ISO code (such as &quot;CAN&quot;).&#39;&#39;&#39;</span>
    url <span class="op">=</span> <span class="st">&#39;http://climatedataapi.worldbank.org/climateweb/rest/v1/country/cru/tas/year/&#39;</span> <span class="op">+</span> country <span class="op">+</span> <span class="st">&#39;.csv&#39;</span>
    <span class="bu">print</span>(<span class="st">&#39;url used is&#39;</span>, url)
    response <span class="op">=</span> requests.get(url)
    <span class="bu">print</span>(<span class="st">&#39;response code:&#39;</span>, response.status_code)
    <span class="bu">print</span>(<span class="st">&#39;length of data:&#39;</span>, <span class="bu">len</span>(response.text))
    <span class="cf">if</span> response.status_code <span class="op">!=</span> <span class="dv">200</span>:
        <span class="bu">print</span>(<span class="st">&#39;Failed to get data:&#39;</span>, response.status_code)
    <span class="cf">else</span>:
        wrapper <span class="op">=</span> csv.reader(response.text.strip().split(<span class="st">&#39;</span><span class="ch">\n</span><span class="st">&#39;</span>))
        results <span class="op">=</span> []
        <span class="cf">for</span> record <span class="kw">in</span> wrapper:
            <span class="cf">if</span> record[<span class="dv">0</span>] <span class="op">!=</span> <span class="st">&#39;year&#39;</span>:
                year <span class="op">=</span> <span class="bu">int</span>(record[<span class="dv">0</span>])
                value <span class="op">=</span> <span class="bu">float</span>(record[<span class="dv">1</span>])
                results.append([year, value])
        <span class="cf">return</span> results

latveria <span class="op">=</span> annual_mean_temp(<span class="st">&#39;LTV&#39;</span>)
<span class="bu">print</span>(<span class="st">&#39;number of records for Latveria:&#39;</span>, <span class="bu">len</span>(latveria))</code></pre>
<p>{: title=“syndicate/get_with_minimal_check.py”}</p>
<pre class="text"><code>url used is http://climatedataapi.worldbank.org/climateweb/rest/v1/country/cru/tas/year/LTV.csv
response code: 200
length of data: 0
number of records for Latveria: 0</code></pre>
<p>In other words,
the World Bank is always saying,
“I was able to answer your query,”
even when it actually can’t.
After a bit more experimenting, we discover that the site <em>always</em> returns a 200 status code.
The only way to tell if there’s real data or not is to check if <code>response.text</code> is empty.
Here’s the updated function:</p>
<pre class="sourceCode python"><code class="sourceCode python"><span class="kw">def</span> annual_mean_temp(country):
    <span class="co">&#39;&#39;&#39;</span>
<span class="co">    Get the annual mean temperature for a country given its 3-letter ISO code (such as &quot;CAN&quot;).</span>
<span class="co">    Returns an empty list if the country code is invalid.</span>
<span class="co">    &#39;&#39;&#39;</span>
    url <span class="op">=</span> <span class="st">&#39;http://climatedataapi.worldbank.org/climateweb/rest/v1/country/cru/tas/year/&#39;</span> <span class="op">+</span> country <span class="op">+</span> <span class="st">&#39;.csv&#39;</span>
    response <span class="op">=</span> requests.get(url)
    results <span class="op">=</span> []
    <span class="cf">if</span> <span class="bu">len</span>(response.text) <span class="op">&gt;</span> <span class="dv">0</span>:
        wrapper <span class="op">=</span> csv.reader(response.text.strip().split(<span class="st">&#39;</span><span class="ch">\n</span><span class="st">&#39;</span>))
        <span class="cf">for</span> record <span class="kw">in</span> wrapper:
            <span class="cf">if</span> record[<span class="dv">0</span>] <span class="op">!=</span> <span class="st">&#39;year&#39;</span>:
                year <span class="op">=</span> <span class="bu">int</span>(record[<span class="dv">0</span>])
                value <span class="op">=</span> <span class="bu">float</span>(record[<span class="dv">1</span>])
                results.append([year, value])
    <span class="cf">return</span> results</code></pre>
<p>{: title=“syndicate/get_with_check.py”}</p>
<!-- == noindent -->
<p>and here’s a quick check:</p>
<pre class="sourceCode python"><code class="sourceCode python"><span class="bu">print</span>(<span class="st">&#39;number of records for Canada:&#39;</span>, <span class="bu">len</span>(annual_mean_temp(<span class="st">&#39;CAN&#39;</span>)))
<span class="bu">print</span>(<span class="st">&#39;number of records for Latveria:&#39;</span>, <span class="bu">len</span>(annual_mean_temp(<span class="st">&#39;LTV&#39;</span>)))</code></pre>
<p>{: title=“syndicate/get_with_check.py”}</p>
<pre class="text"><code>number of records for Canada: 109
number of records for Latveria: 0</code></pre>
</div>
<div id="s:syndicate-compare" class="section level2">
<h2><span class="header-section-number">5.5</span> How can I compare different data sets?</h2>
<p>Now that we can get surface temperatures for different countries,
we can write a function to compare those values.
Here’s our first attempt:</p>
<pre class="sourceCode python"><code class="sourceCode python"><span class="kw">def</span> diff_records(left, right):
    <span class="co">&#39;&#39;&#39;Given lists of [year, value] pairs, return list of [year, difference] pairs.&#39;&#39;&#39;</span>
    num_years <span class="op">=</span> <span class="bu">len</span>(left)
    results <span class="op">=</span> []
    <span class="cf">for</span> i <span class="kw">in</span> <span class="bu">range</span>(num_years):
        left_year, left_value <span class="op">=</span> left[i]
        right_year, right_value <span class="op">=</span> right[i]
        difference <span class="op">=</span> left_value <span class="op">-</span> right_value
        results.append([left_year, difference])
    <span class="cf">return</span> results</code></pre>
<p>{: title=“syndicate/compare_01.py”}</p>
<p>Here, we’re using the number of entries in <code>left</code> (which we find with <code>len(left)</code>) to control our loop.
Inside the loop we unpack the left and right years and values from the list entries,
then append a pair containing a year and a difference to <code>results</code>,
which we return at the end.
To see if this function works, we can run a couple of tests on made-up data:</p>
<pre class="sourceCode python"><code class="sourceCode python"><span class="bu">print</span>(<span class="st">&#39;one record:&#39;</span>, diff_records([[<span class="dv">1900</span>, <span class="fl">1.0</span>]],
                                  [[<span class="dv">1900</span>, <span class="fl">2.0</span>]]))
<span class="bu">print</span>(<span class="st">&#39;two records:&#39;</span>, diff_records([[<span class="dv">1900</span>, <span class="fl">1.0</span>], [<span class="dv">1901</span>, <span class="fl">10.0</span>]],
                                   [[<span class="dv">1900</span>, <span class="fl">2.0</span>], [<span class="dv">1901</span>, <span class="fl">20.0</span>]]))</code></pre>
<p>{: title=“syndicate/compare_01.py”}</p>
<pre class="text"><code>one record: [[1900, -1.0]]
two records: [[1900, -1.0], [1901, -10.0]]</code></pre>
<p>That looks pretty good, but what about these cases?</p>
<pre class="sourceCode python"><code class="sourceCode python"><span class="bu">print</span>(<span class="st">&#39;mis-matched years:&#39;</span>, diff_records([[<span class="dv">1900</span>, <span class="fl">1.0</span>]],
                                         [[<span class="dv">1999</span>, <span class="fl">2.0</span>]]))
<span class="bu">print</span>(<span class="st">&#39;left is shorter&#39;</span>, diff_records([[<span class="dv">1900</span>, <span class="fl">1.0</span>]],
                                      [[<span class="dv">1900</span>, <span class="fl">10.0</span>], [<span class="dv">1901</span>, <span class="fl">20.0</span>]]))
<span class="bu">print</span>(<span class="st">&#39;right is shorter&#39;</span>, diff_records([[<span class="dv">1900</span>, <span class="fl">1.0</span>], [<span class="dv">1901</span>, <span class="fl">2.0</span>]],
                                       [[<span class="dv">1900</span>, <span class="fl">10.0</span>]]))</code></pre>
<p>{: title=“syndicate/compare_01.py”}</p>
<pre class="text"><code>IndexError: list index out of rangemis-matched years: [[1900, -1.0]]
left is shorter [[1900, -9.0]]
right is shorter</code></pre>
<p>The first test gives us an answer even though the years didn’t match:
we get a result, but it’s meaningless.
The second case gives us a partial result,
again without telling us there’s a problem,
while the third crashes because we’re using <code>left</code> to determine the number of records,
but <code>right</code> doesn’t have that many.</p>
<p>The first two problems are actually worse than the third
because they are <a href="glossary.html#silent-failure">silent failures</a>:
the function does the wrong thing, but doesn’t indicate that in any way.
Let’s fix that:</p>
<pre class="sourceCode python"><code class="sourceCode python"><span class="kw">def</span> diff_records(left, right):
    <span class="co">&#39;&#39;&#39;</span>
<span class="co">    Given lists of [year, value] pairs, return list of [year, difference] pairs.</span>
<span class="co">    Fails if the inputs are not for exactly corresponding years.</span>
<span class="co">    &#39;&#39;&#39;</span>
    <span class="cf">assert</span> <span class="bu">len</span>(left) <span class="op">==</span> <span class="bu">len</span>(right), <span class="op">\</span>
           <span class="co">&#39;Inputs have different lengths.&#39;</span>
    num_years <span class="op">=</span> <span class="bu">len</span>(left)
    results <span class="op">=</span> []
    <span class="cf">for</span> i <span class="kw">in</span> <span class="bu">range</span>(num_years):
        left_year, left_value <span class="op">=</span> left[i]
        right_year, right_value <span class="op">=</span> right[i]
        <span class="cf">assert</span> left_year <span class="op">==</span> right_year, <span class="op">\</span>
               <span class="co">&#39;Record {0} is for different years: {1} vs {2}&#39;</span>.<span class="bu">format</span>(i, left_year, right_year)
        difference <span class="op">=</span> left_value <span class="op">-</span> right_value
        results.append([left_year, difference])
    <span class="cf">return</span> results</code></pre>
<p>{: title=“syndicate/compare_02.py”}</p>
<p>Do our “good” tests pass?</p>
<pre class="sourceCode python"><code class="sourceCode python"><span class="bu">print</span>(<span class="st">&#39;one record:&#39;</span>, diff_records([[<span class="dv">1900</span>, <span class="fl">1.0</span>]],
                                  [[<span class="dv">1900</span>, <span class="fl">2.0</span>]]))
<span class="bu">print</span>(<span class="st">&#39;two records:&#39;</span>, diff_records([[<span class="dv">1900</span>, <span class="fl">1.0</span>], [<span class="dv">1901</span>, <span class="fl">10.0</span>]],
                                   [[<span class="dv">1900</span>, <span class="fl">2.0</span>], [<span class="dv">1901</span>, <span class="fl">20.0</span>]]))</code></pre>
<p>{: title=“syndicate/compare_02.py”}</p>
<pre class="text"><code>one record: [[1900, -1.0]]
two records: [[1900, -1.0], [1901, -10.0]]</code></pre>
<p>What about our the three tests that we now expect to fail?</p>
<pre class="sourceCode python"><code class="sourceCode python"><span class="bu">print</span>(<span class="st">&#39;mis-matched years:&#39;</span>, diff_records([[<span class="dv">1900</span>, <span class="fl">1.0</span>]],
                                         [[<span class="dv">1999</span>, <span class="fl">2.0</span>]]))</code></pre>
<p>{: title=“syndicate/compare_02.py”}</p>
<pre class="text"><code>AssertionError: Record 0 is for different years: 1900 vs 1999mis-matched years:</code></pre>
<pre class="sourceCode python"><code class="sourceCode python"><span class="bu">print</span>(<span class="st">&#39;left is shorter&#39;</span>, diff_records([[<span class="dv">1900</span>, <span class="fl">1.0</span>]],
                                      [[<span class="dv">1900</span>, <span class="fl">10.0</span>], [<span class="dv">1901</span>, <span class="fl">20.0</span>]]))</code></pre>
<p>{: title=“syndicate/compare_02.py”}</p>
<pre class="text"><code>AssertionError: Inputs have different lengths. left is shorter</code></pre>
<pre class="sourceCode python"><code class="sourceCode python"><span class="bu">print</span>(<span class="st">&#39;right is shorter&#39;</span>, diff_records([[<span class="dv">1900</span>, <span class="fl">1.0</span>], [<span class="dv">1901</span>, <span class="fl">2.0</span>]],
                                       [[<span class="dv">1900</span>, <span class="fl">10.0</span>]]))</code></pre>
<p>{: title=“syndicate/compare_02.py”}</p>
<pre class="text"><code>AssertionError: Inputs have different lengths. right is shorter</code></pre>
<p>Excellent:
the assertions we’ve added will now alert us if we try to work with badly-formatted or inconsistent data.</p>
</div>
<div id="s:syndicate-publish" class="section level2">
<h2><span class="header-section-number">5.6</span> How can I publish data so that others can use it?</h2>
<p>We now have functions to download temperature data for different countries and find annual differences.
The next step is to share our findings with the world by publishing the data sets we generate.
To do this, we have to answer three questions:</p>
<ul>
<li>How are we going to store the data?</li>
<li>How are people going to download it?</li>
<li>How are people going to find it?</li>
</ul>
<p>The first question is the easiest to answer:
<code>diff_records</code> returns a list of (year, difference) pairs that we can write out as a CSV file:</p>
<pre class="sourceCode python"><code class="sourceCode python"><span class="im">import</span> csv

<span class="kw">def</span> save_records(filename, records):
    <span class="co">&#39;&#39;&#39;Save a list of [year, temp] pairs as CSV.&#39;&#39;&#39;</span>
    <span class="cf">with</span> <span class="bu">open</span>(filename, <span class="st">&#39;w&#39;</span>) <span class="im">as</span> raw:
        writer <span class="op">=</span> csv.writer(raw)
        writer.writerows(records)</code></pre>
<p>{: title=“syndicate/save_records_01.py”}</p>
<p>We use the <code>csv</code> library to write data
for the same reason we use it to read:
it correctly handles special cases (such as text containing commas).
Let’s test it:</p>
<pre class="sourceCode python"><code class="sourceCode python">save_records(<span class="st">&#39;temp.csv&#39;</span>, [[<span class="dv">1</span>, <span class="dv">2</span>], [<span class="dv">3</span>, <span class="dv">4</span>]])</code></pre>
<p>{: title=“syndicate/save_records_01.py”}</p>
<p>If we then look in the file <code>temp.csv</code>, we find:</p>
<pre class="text"><code>1,2
3,4</code></pre>
<!-- == noindent -->
<p>as desired.</p>
<p>Now, where should this file go?
The answer is clearly “a server”,
since data on our laptop is only accessible when we’re online
(and probably not even then, since most people don’t run a web server on their laptop).
But where on the server, and what should we call it?</p>
<p>The answer to those questions depends on how the server is set up.
On many multi-user Linux machines,
users can create a directory called like <code>public_html</code> under their home directory,
and the web server will automatically search in those directories.
For example,
if Nelle has a file called <code>thesis.pdf</code> in her <code>public_html</code> directory,
the web server will find it when it gets the URL <code>http://the.server.name/~nelle/thesis.pdf</code>.
(In this case,
the tilde <code>~</code> in front of Nelle’s name tells the web server
to look in Nelle’s <code>public_html</code> directory.)
The specifics differ from one machine to the next,
but the basic idea stays the same.</p>
<p>As for what we should call it, here we return to the key idea in REST:
every data set should be identified by a “guessable” URL.
In our case we’ll use a name like <code>left_right.csv</code>,
where <code>left</code> and <code>right</code> are the three-letter codes of the countries whose temperatures we are differencing.
We can then tell people that if they want to compare Australia and Brazil,
they should look for <code>http://the.server.name/~nelle/AUS_BRA.csv</code>.
(We use upper case to be consistent with the World Bank’s API.)</p>
<p>But what’s to prevent someone from creating a badly-named (and therefore unfindable) file?
Someone could, for example, call <code>save_records('aus+bra.csv', records)</code>.
To reduce the odds of this happening,
let’s modify <code>save_records</code> to take country identifiers as parameters:</p>
<pre class="sourceCode python"><code class="sourceCode python"><span class="im">import</span> csv

<span class="kw">def</span> save_records(left, right, records):
    <span class="co">&#39;&#39;&#39;Save a list of [year, temp] pairs as CSV.&#39;&#39;&#39;</span>
    filename <span class="op">=</span> left <span class="op">+</span> <span class="st">&#39;_&#39;</span> <span class="op">+</span> right <span class="op">+</span> <span class="st">&#39;.csv&#39;</span>
    <span class="cf">with</span> <span class="bu">open</span>(filename, <span class="st">&#39;w&#39;</span>) <span class="im">as</span> raw:
        writer <span class="op">=</span> csv.writer(raw)
        writer.writerows(records)</code></pre>
<p>{: title=“syndicate/save_records_02.py”}</p>
<p>We can now call it like this:</p>
<pre class="sourceCode python"><code class="sourceCode python">save_records(<span class="st">&#39;AUS&#39;</span>, <span class="st">&#39;BRA&#39;</span>, [[<span class="dv">1</span>, <span class="dv">2</span>], [<span class="dv">3</span>, <span class="dv">4</span>]])</code></pre>
<p>{: title=“syndicate/save_records_02.py”}</p>
<p>and then check that the right output file has been created.
We are bound to have the country codes anyway (having used them to look up our data),
so this should seem natural to our users.</p>
</div>
<div id="s:syndicate-findable" class="section level2">
<h2><span class="header-section-number">5.7</span> How can I make it easy for other people to find my data?</h2>
<p>It’s not enough to tell people what the rule is for creating filenames,
since that doesn’t tell them what data sets we’ve actually generated.
The final step in this lesson is therefore
to make the data we generate findable
by creating an <a href="glossary.html#index">index</a> to tell people what files exist.
Here’s the format we will use:</p>
<pre class="text"><code>2014-05-26,FRA,TCD,FRA_TCD.csv
2014-05-27,AUS,BRA,AUS_BRA.csv
2014-05-27,AUS,CAN,AUS_CAN.csv
2014-05-28,BRA,CAN,BRA_CAN.csv</code></pre>
<p>The columns are the date the data set was generated,
the identifiers of the two countries being compared,
and the name of the data file.
We include the date to make it easy for people to see what’s been updated when,
but why do we bother to include the filename?
After all, we can re-generate it easily given the two country codes.
The answer is that while <em>we</em> know the rule for generating filenames,
other people’s programs shouldn’t have to.</p>
<p>Here’s a function that updates the index file every time we generate a new data file:</p>
<pre class="sourceCode python"><code class="sourceCode python"><span class="im">import</span> time

<span class="kw">def</span> update_index(index_filename, left, right):
    <span class="co">&#39;&#39;&#39;Append a record to the index.&#39;&#39;&#39;</span>

    <span class="co"># Read existing data.</span>
    <span class="cf">with</span> <span class="bu">open</span>(index_filename, <span class="st">&#39;r&#39;</span>) <span class="im">as</span> raw:
        reader <span class="op">=</span> csv.reader(raw)
        records <span class="op">=</span> []
        <span class="cf">for</span> r <span class="kw">in</span> reader:
            records.append(r)
    
    <span class="co"># Create new record.</span>
    timestamp <span class="op">=</span> time.strftime(<span class="st">&#39;%Y-%m-</span><span class="sc">%d</span><span class="st">&#39;</span>)
    data_filename <span class="op">=</span> left <span class="op">+</span> <span class="st">&#39;_&#39;</span> <span class="op">+</span> right <span class="op">+</span> <span class="st">&#39;.csv&#39;</span>
    new_record <span class="op">=</span> (timestamp, left, right, data_filename)
    
    <span class="co"># Save.</span>
    records.append(new_record)
    <span class="cf">with</span> <span class="bu">open</span>(index_filename, <span class="st">&#39;w&#39;</span>) <span class="im">as</span> raw:
        writer <span class="op">=</span> csv.writer(raw)
        writer.writerows(records)</code></pre>
<p>{: title=“syndicate/make_index.py”}</p>
<p>Let’s test it.
If our index file contains:</p>
<pre class="text"><code>2014-05-26,FRA,TCD,FRA_TCD.csv
2014-05-27,AUS,BRA,AUS_BRA.csv
2014-05-27,AUS,CAN,AUS_CAN.csv
2014-05-28,BRA,CAN,BRA_CAN.csv</code></pre>
<p>and we run:</p>
<pre class="sourceCode python"><code class="sourceCode python">update_index(<span class="st">&#39;data/index.csv&#39;</span>, <span class="st">&#39;TCD&#39;</span>, <span class="st">&#39;CAN&#39;</span>)</code></pre>
<p>{: title=“syndicate/make_index.py”}</p>
<p>then our index file now contains:</p>
<pre class="text"><code>2014-05-26,FRA,TCD,FRA_TCD.csv
2014-05-27,AUS,BRA,AUS_BRA.csv
2014-05-27,AUS,CAN,AUS_CAN.csv
2014-05-28,BRA,CAN,BRA_CAN.csv
2014-05-29,TCD,CAN,TCD_CAN.csv</code></pre>
<p>Now that all of this is in place,
it’s easy for us—and more importantly,
for other people—to do new and exciting things with our data.
For example,
we can easily write a small program that tells us what data sets include information about a particular country
<em>and</em> have been published since we last checked:</p>
<pre class="sourceCode python"><code class="sourceCode python"><span class="kw">def</span> what_is_available(index_file, country, after):
    <span class="co">&#39;&#39;&#39;What data files include a country and have been published since &#39;after&#39;?&#39;&#39;&#39;</span>
    <span class="cf">with</span> <span class="bu">open</span>(index_file, <span class="st">&#39;r&#39;</span>) <span class="im">as</span> raw:
        reader <span class="op">=</span> csv.reader(raw)
        filenames <span class="op">=</span> []
        <span class="cf">for</span> record <span class="kw">in</span> reader:
            <span class="cf">if</span> (after <span class="op">&lt;=</span> record[<span class="dv">0</span>]) <span class="kw">and</span> (country <span class="kw">in</span> (record[<span class="dv">1</span>], record[<span class="dv">2</span>])):
                filenames.append(record[<span class="dv">3</span>])
    <span class="cf">return</span> filenames

<span class="bu">print</span> what_is_available(<span class="st">&#39;data/index.csv&#39;</span>, <span class="st">&#39;BRA&#39;</span>, <span class="st">&#39;2014-05-27&#39;</span>)</code></pre>
<p>{: title=“syndicate/available.py”}</p>
<pre class="text"><code>[&#39;AUS_BRA.csv&#39;, &#39;BRA_CAN.csv&#39;]</code></pre>
<p>This may not seem like a breakthrough,
but it is actually an example of how the web helps researchers do new kinds of science.
With a little bit more work,
we could create a file on <em>our</em> machine to record when we last ran <code>what_is_available</code>
for each of several different sites that are producing data.
Each time we run it, our program would:</p>
<ul>
<li>read our local “what to check” file;</li>
<li>ask each data source whether it had any new data for us;</li>
<li>download and process that data; and</li>
<li>present us with a summary of the results.</li>
</ul>
<p>This is exactly how blogs work.
Every blog reader keeps a list of blog URLs that it’s supposed to check.
When it is run, it goes to each of those sites and asks them for their index file
(which is typically called something like <code>feed.xml</code>).
It then checks the articles listed in that index against its local record of what has already been seen,
then downloads any articles that are new.
By automating this process, blogging tools help us focus attention on things that are actually worth looking at.</p>
</div>
<div id="s:syndicate-summary" class="section level2">
<h2><span class="header-section-number">5.8</span> Summary</h2>
<div class="figure"><span id="fig:syndicate-concept"></span>
<img src="figures/syndicate/concept.svg" alt="Syndication Concept Map"  />
<p class="caption">
Figure 5.1: Syndication Concept Map
</p>
</div>
</div>
<div id="s:syndicate-exercises" class="section level2">
<h2><span class="header-section-number">5.9</span> Exercises</h2>
<div id="enumerating" class="section level3">
<h3><span class="header-section-number">5.9.1</span> Enumerating</h3>
<p>Python includes a function called <code>enumerate</code> that’s often used in <code>for</code> loops.
Look at its documentation, then rewrite <code>diff_records</code> to use it.</p>
</div>
<div id="when-to-complain" class="section level3">
<h3><span class="header-section-number">5.9.2</span> When to complain?</h3>
<p>We committed the same mistake as the World Bank in our differencing code:
if someone gives <code>annual_mean_temp</code> an invalid country identifier,
it doesn’t report an error,
but instead returns an empty list,
so the caller has to somehow know to look for that.
Should it use an assertion to fail if it doesn’t get data?
Why or why not?</p>
</div>
<div id="deciding-what-to-check" class="section level3">
<h3><span class="header-section-number">5.9.3</span> Deciding what to check</h3>
<p>Should <code>save_records</code> check that every record in its input has exactly two fields?
Why or why not?
What about country codes:
should it contain a list of those that match actual countries
and check that <code>left</code> and <code>right</code> are in that list?</p>
</div>
<div id="metadata-for-metadata" class="section level3">
<h3><span class="header-section-number">5.9.4</span> Metadata for metadata</h3>
<p>Should the first line of the index file be a header giving the names of the columns?
Why or why not?</p>
</div>
<div id="to-automate-or-not" class="section level3">
<h3><span class="header-section-number">5.9.5</span> To automate or not</h3>
<p>Should <code>update_index</code> be called inside <code>save_records</code>
so that the index is automatically updated every time a new data set is generated?
Why or why not?</p>
</div>
<div id="removing-redundant-redundancy" class="section level3">
<h3><span class="header-section-number">5.9.6</span> Removing redundant redundancy</h3>
<p><code>update_index</code> and <code>save_records</code> both construct the name of the data file.
Refactor them to remove this redundancy.</p>
</div>
</div>
<div id="key-points-3" class="section level2">
<h2><span class="header-section-number">5.10</span> Key Points</h2>
<ul>
<li>"FIXME</li>
<li>"Make data sets more useful by providing metadata.</li>
<li>"Write Python programs to download data sets using simple REST APIs.</li>
<li>"Parse CSV data using the <code>csv</code> library.</li>
<li>"Test a program that parses CSV using multiline strings.</li>
<li>"Make a function more robust by explicitly handling errors.</li>
<li>"Write Python programs that share static data sets.</li>
</ul>

</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="s-automate.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="s-configure.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"google": false,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"all": ["facebook", "google", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": null,
"text": null
},
"history": {
"link": null,
"text": null
},
"download": null,
"toc": {
"collapse": "subsection"
}
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:" && /^https?:/.test(src))
      src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
